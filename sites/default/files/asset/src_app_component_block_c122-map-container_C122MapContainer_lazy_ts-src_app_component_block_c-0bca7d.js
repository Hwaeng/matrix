"use strict";(self.webpackChunkneom=self.webpackChunkneom||[]).push([["src_app_component_block_c122-map-container_C122MapContainer_lazy_ts-src_app_component_block_c-0bca7d","src_app_component_block_c00-dummy_C00Dummy_lazy_ts-_55030","src_app_component_block_c00-dummy_C00Dummy_lazy_ts-_55031","src_app_component_block_c52-facts-figures_C52FactsFigures_lazy_ts","src_app_component_block_s10-map-overlay_S10MapOverlay_lazyOverlay_ts"],{75180:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i,o,n=s(54168),r=s(3642),e=s(91344),h=s(62018),s=Object.defineProperty;class a extends e.Z{adopted(){return t=this,a=null,l=function*(){(0,n.o)(this.element);var t=yield(yield(0,r.n)()).getNavigationHeight();this.dispatcher.dispatchEvent(new h.D(h.D.types.NAVIGATION_HEIGHT,t)),this.element.style.height=t+"px"},new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});var t,a,l}}e=a,o="c00-dummy",(i="symbol"!=typeof(i="displayName")?i+"":i)in(e=e)?s(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o},62018:(t,e,s)=>{s.d(e,{D:()=>a});var e=s(86562),o=Object.defineProperty,n=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s};const i=class i extends e.AbstractEvent{constructor(t,e,s,i){super(t,s,i),n(this,"height",0),this.height=e}clone(){return new i(this.type,this.height,this.bubbles,this.cancelable)}};n(i,"types",{NAVIGATION_HEIGHT:"NAVIGATION_HEIGHT"});let a=i},98485:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});var e=s(83694),i=s(27988),o=s(95215);class n extends i.Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s)}setupTransitionOutTimeline(t,e,s){}setupLoopingAnimationTimeline(t,e,s){(0,o.h)()}}const a=n;var i=s(27404),l=s.n(i),r=s(37629),h=s(54168),p=s(38111),d=s(72802),c=s(80863),u=s(49490),m=s(33453),v=Object.defineProperty,g=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s};class y extends e.Z{constructor(t){super(t),g(this,"icons",this.getElements(`[data-component="${m.Z.displayName}"`)),g(this,"O104MapContainer",this.getComponent(p.default.displayName)),g(this,"O104MapContainerHtmlElement",document&&document.querySelector(`[data-component="${p.default.displayName}"]`)),g(this,"o65MobileInstructions",this.getComponent(d.default.displayName)),g(this,"titleContainer",this.getElement("[data-title-container-hotspot-map]")),g(this,"hotspots",this.O104MapContainerHtmlElement&&this.O104MapContainerHtmlElement.querySelector("[data-hotspot-container]")),g(this,"transitionController"),g(this,"isMobile",r.Z.currentDeviceState.state<l().deviceState.MEDIUM),this.transitionController=new a(this)}adopted(){var t;if((0,h.o)(this.element),this.isMobile||setTimeout(()=>{this.titleContainer&&this.titleContainer.classList.add(u.b.ACTIVE)},5e3),this.o65MobileInstructions&&this.isMobile){const e=this.element.classList.contains("b-hotspotMap-magna");null!=(t=this.O104MapContainer)&&t.hideContent(),this.addDisposableEventListener(null==(t=this.o65MobileInstructions)?void 0:t.dispatcher,c.W.SHOW_INSTRUCTIONS,()=>{var t;null!=(t=this.O104MapContainer)&&t.showContent(),this.hotspots&&e&&(this.hotspots.classList.remove(u.b.HIDDEN),this.hotspots.classList.add(u.b.ACTIVE))})}}}g(y,"displayName","c122-map-container")},83307:(t,e,s)=>{s.r(e),s.d(e,{default:()=>p});var e=s(83694),i=s(54168),o=s(27988),n=s(92015);class a extends o.Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s);s=e.getElements("[data-facts-item]"),e=e.getElement(`[data-component="${n.Z.displayName}"]`);e&&t.add(this.getTimeline(e)),s&&t.staggerFromTo(s,.5,{y:100,autoAlpha:0},{y:0,autoAlpha:1,clearProps:"y,opacity,visibility",stagger:{amount:.5}},0)}setupTransitionOutTimeline(t,e,s){}setupLoopingAnimationTimeline(t,e,s){}}const l=a;var r=Object.defineProperty,h=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s};class p extends e.Z{constructor(t){super(t),h(this,"transitionController"),this.transitionController=new l(this)}adopted(){(0,i.o)(this.element)}}h(p,"displayName","c52-facts-figures")},76528:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});e=s(83694);class i extends s(27988).Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s)}setupTransitionOutTimeline(t,e,s){}setupLoopingAnimationTimeline(t,e,s){}}const o=i;var n=s(27404),a=s.n(n),l=s(37629),r=s(54168),h=s(65683),p=s(72802),d=s(80863),c=s(49490),u=Object.defineProperty,m=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s};class v extends e.Z{constructor(t){super(t),m(this,"o64HotspotMap",this.getComponent(h.default.displayName)),m(this,"o64HotspotMapHtmlElement",document&&document.querySelector(`[data-component="${h.default.displayName}"]`)),m(this,"o65MobileInstructions",this.getComponent(p.default.displayName)),m(this,"titleContainer",this.getElement("[data-title-container-hotspot-map]")),m(this,"hotspots",this.o64HotspotMapHtmlElement&&this.o64HotspotMapHtmlElement.querySelector("[data-hotspot-container]")),m(this,"transitionController"),m(this,"isMobile",l.Z.currentDeviceState.state<a().deviceState.MEDIUM),this.transitionController=new o(this)}adopted(){var t;if((0,r.o)(this.element),this.isMobile||setTimeout(()=>{this.titleContainer&&this.titleContainer.classList.add(c.b.ACTIVE)},5e3),this.o65MobileInstructions&&this.isMobile){const e=this.element.classList.contains("b-hotspotMap-magna");null!=(t=this.o64HotspotMap)&&t.hideContent(),this.addDisposableEventListener(null==(t=this.o65MobileInstructions)?void 0:t.dispatcher,d.W.SHOW_INSTRUCTIONS,()=>{var t;null!=(t=this.o64HotspotMap)&&t.showContent(),this.hotspots&&e&&(this.hotspots.classList.remove(c.b.HIDDEN),this.hotspots.classList.add(c.b.ACTIVE))})}}}m(v,"displayName","c61-hotspot-map")},54081:(t,e,s)=>{s.r(e),s.d(e,{default:()=>g});e=s(83694);class i extends s(27988).Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s)}setupTransitionOutTimeline(t,e,s){}setupLoopingAnimationTimeline(t,e,s){}}const o=i;var n=s(3642),a=s(54168),l=Object.defineProperty,r=Object.defineProperties,h=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(t,e,s)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,m=(t,e,s)=>(u(t,"symbol"!=typeof e?e+"":e,s),s),v=(t,a,l)=>new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});class g extends e.Z{constructor(t){super(t),m(this,"transitionController"),m(this,"actionInProgress",!1),m(this,"dispatchAction",(s,i)=>v(this,null,function*(){var t,e;this.actionInProgress||(this.actionInProgress=!0,t=new CustomEvent("overlayAction",{detail:(t=((t,e)=>{for(var s in e=e||{})d.call(e,s)&&u(t,s,e[s]);if(p)for(var s of p(e))c.call(e,s)&&u(t,s,e[s]);return t})({},s),r(t,h({params:i})))}),null!=(e=yield(0,n.n)())&&e.element.dispatchEvent(t),this.actionInProgress=!1)})),this.element.style.display="block",this.transitionController=new o(this)}adopted(){return v(this,null,function*(){(0,a.o)(this.element)})}debug(t){console.log("ACTION: ",t.type),"payload"in t&&console.log("PAYLOAD: ",t.payload)}}m(g,"displayName","s10-map-overlay")},59330:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_});var e=s(83694),i=s(12919),h=s(51456),p=s(91786),o=s(69106),n=s(6314),d=s(49490),a=s(3642),l=s(27988),r=s(10665);class c extends l.Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s);s=e.getElement("[data-panel]"),e=e.getElement("[data-mask]");s&&t.fromTo(s,.5,{xPercent:100,opacity:0},{xPercent:0,opacity:1,ease:r.Expo.easeInOut,clearProps:"visibility"},"0"),e&&t.fromTo(e,.3,{opacity:0},{opacity:1,ease:r.Power2.easeInOut,clearProps:"opacity, visibility"},"0")}setupTransitionOutTimeline(t,e,s){}setupLoopingAnimationTimeline(t,e,s){}}const u=c;var l=s(27404),m=s.n(l),v=s(37629),g=s(40573),y=s(87600),b=s(91633),E=Object.defineProperty,M=Object.defineProperties,L=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,w=(t,e,s)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,D=(t,e,s)=>(w(t,"symbol"!=typeof e?e+"":e,s),s),T=(t,a,l)=>new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});const S={OPEN_MODAL_STANDARD:()=>s.e("src_app_component_organism_o11-modal-content_o11-modal-content_hbs_include").then(s.t.bind(s,94843,23))};class _ extends e.Z{constructor(t){super(t),D(this,"transitionController"),D(this,"previousModalButtons",null),D(this,"modalContainer",this.getElement("[data-modal-container]")),D(this,"modalI18n",this.element.dataset.i18n&&JSON.parse(this.element.dataset.i18n)),D(this,"closeButton",this.getElement("[data-close-button]")),D(this,"mask",this.getElement("[data-mask]")),D(this,"app",null),D(this,"previouslyRenderedActions",[]),D(this,"dataFragmentDisposables",new n.jn),D(this,"previousButtonsDisposables",new n.jn),D(this,"initialClassName",this.element.className),D(this,"overlay"),D(this,"trappedFocus"),D(this,"dispatchCloseAction",()=>T(this,null,function*(){var t=document.querySelectorAll(".o-hotspotMap__hotspotPolygon.-isActive");t&&null!=t&&t.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.remove(d.b.ACTIVE)}),this.overlay=null!=(t=this.overlay)?t:yield null==(t=this.app)?void 0:t.overlay,yield null==(t=this.overlay)?void 0:t.dispatchAction({type:p.zr.CLOSE})})),D(this,"handleAction",l=>T(this,null,function*(){switch(l.type){case p.zr.STANDARD_DYNAMIC:this.previouslyRenderedActions.push(l);var{template:t,data:e,options:s}=l.payload,s=(this.element.className=this.initialClassName,null!=s&&s.classnames&&s.classnames.forEach(t=>this.element.classList.add(t)),e.backButtonLabel),i=(null==(i=null==(i=this.modalI18n)?void 0:i.common)?void 0:i.back)||"",o=(null==(o=null==(o=this.modalI18n)?void 0:o.common)?void 0:o.previousArrowCta)||"",n=(null==(n=null==(n=this.modalI18n)?void 0:n.common)?void 0:n.nextArrowCta)||"",a=v.Z.currentDeviceState.state<=m().deviceState.MEDIUM,a=1<this.previouslyRenderedActions.length?a&&s||i:void 0,i=t((s=((t,e)=>{for(var s in e=e||{})I.call(e,s)&&w(t,s,e[s]);if(f)for(var s of f(e))C.call(e,s)&&w(t,s,e[s]);return t})({},e),M(s,L({backButtonLabel:a,previousArrowButtonLabel:o,nextArrowButtonLabel:n}))));yield this.openDynamic(i);break;case p.zr.CLOSE:yield this.closeModal()}})),this.transitionController=new u(this)}adopted(){return T(this,null,function*(){var t;this.app=yield(0,a.n)(),[this.closeButton,this.mask].forEach(t=>{t&&this.addDisposableEventListener(t,"click",this.dispatchCloseAction)}),this.addDisposableEventListener(null==(t=this.app)?void 0:t.element,"overlayAction",t=>T(this,null,function*(){yield this.handleAction(t.detail)}))})}openDynamic(t){return T(this,null,function*(){if(null==this.modalContainer)throw new Error("this.modalContainer is undefined");if(this.element.classList.add(d.b.OPEN),this.modalContainer.innerHTML=t,(yield(0,b.L)(this.modalContainer))||(yield(0,o.LH)(this.modalContainer)),this.scrollEnabled=!1,null===this.modalContainer)throw new Error("The Modal container was not found");return this.assignPreviousModalButtons(),this.addListenersToElementsWithDataFragmentId(),(0,g.T)(this.dispatchCloseAction),this.trappedFocus=(0,y.S)(this.element),this.transitionIn()})}addListenersToElementsWithDataFragmentId(){var t=this.getElements("[data-nested-modal-id]");this.dataFragmentDisposables.dispose(),t.forEach(t=>{const e=t.dataset.nestedModalId;t=t.querySelector(`[data-component="${i.Z.displayName}"]`);t&&e&&this.addDisposableEventListener(t,"click",()=>this.requestDataFragment(e),this.dataFragmentDisposables)})}requestDataFragment(r){return T(this,null,function*(){var t;try{var{type:e,payload:s}=yield(yield(0,h.Z)(r)).json(),i=S[e],[o,n]=yield Promise.all([i(),null==(t=this.app)?void 0:t.overlay]),a=[],l=("dark"===s.theme&&a.push(d.G.DARK),"navy"===s.theme&&a.push(d.G.NAVY),s.transparent&&a.push(d.b.TRANSPARENT),{type:p.zr.STANDARD_DYNAMIC,payload:{template:o.default,data:s.content,options:{classnames:a}}});yield null==n?void 0:n.dispatchAction(l)}catch(t){console.log(t)}})}assignPreviousModalButtons(){this.previousButtonsDisposables.dispose(),this.previousModalButtons=this.getElements("[data-back-button]"),this.previousModalButtons.forEach(t=>this.addDisposableEventListener(t,"click",()=>{this.goToPreviousModal()}),this.previousButtonsDisposables)}goToPreviousModal(){return T(this,null,function*(){this.modalContainer&&(0,o.G8)(this.modalContainer);var t=this.previouslyRenderedActions.splice(-2)[0],e=yield null==(e=this.app)?void 0:e.overlay;t&&(yield null==e?void 0:e.dispatchAction(t))})}closeModal(){return T(this,null,function*(){var t;this.previouslyRenderedActions=[],this.element.classList.remove(d.b.OPEN),this.scrollEnabled=!0,yield this.transitionOut(),this.modalContainer&&(0,o.G8)(this.modalContainer),null!=(t=this.modalContainer)&&t.scrollTo(0,0),null!=(t=this.trappedFocus)&&t.removeFocus()})}set scrollEnabled(t){if(!this.app)throw new Error("The app component cannot be found");this.app.toggleScroll(t)}}D(_,"displayName","o10-modal")},38111:(t,e,a)=>{a.r(e),a.d(e,{default:()=>O});var s=a(63845),i=a(95186),o=a(52997),n=a(10732),l=a(10665),e=a(83694),r=a(31417),h=a(49490),p=a(27404),d=a.n(p),c=a(37629),u=a(3642),p=a(27988),m=a(97554);class v extends p.Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s)}setupTransitionOutTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s);s=e.getElements("[data-hotspot]");t.from(e.element,.5,{x:-200,autoAlpha:0}),t.staggerFromTo(s.filter(t=>null!==t),.6,{y:150,autoAlpha:0},{y:0,autoAlpha:1,ease:m.Z.VinnieInOut,stagger:{amount:.8}},0)}setupLoopingAnimationTimeline(t,e,s){}}const g=v;var y=a(91786),p=a(86562),b=Object.defineProperty,E=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s};const M=class M extends p.AbstractEvent{constructor(t,e,s,i,o){super(t,s,i,o),E(this,"hotspots",[]),this.hotspots=e}clone(){return new M(this.type,this.hotspots,this.bubbles,this.cancelable)}};E(M,"UPDATE_MAP","UPDATE_MAP");let L=M;var f,I=a(82266),C=a(77015),w=a(62018),D=a(98485),T=a(5708),S=a(55328),_=a(54081),A=a(78831),B=Object.defineProperty,H=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s},x=(t,a,l)=>new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});class O extends e.Z{constructor(t){if(super(t),H(this,"transitionController"),H(this,"C122MapContainer",document&&document.querySelector(`[data-component="${D.default.displayName}"]`)),H(this,"stopExploringButton",this.C122MapContainer&&this.C122MapContainer.querySelector("[data-stop-exploring-button]")),H(this,"m24Tooltip",document&&document.querySelector(`[data-component="${r.Z.displayName}"]`)),H(this,"m24TooltipRow",this.m24Tooltip&&this.m24Tooltip.querySelector("[data-tooltip-row]")),H(this,"m26HotspotButtonMap",document&&document.querySelector(`[data-component="${T.Z.displayName}"]`)),H(this,"m26HotspotButtonMapWrapper",this.m26HotspotButtonMap&&this.m26HotspotButtonMap.querySelector("[data-m-hotspot-button-wrapper]")),H(this,"o64HotspotMap",document&&document.querySelector(`[data-component="${D.default.displayName}"]`)),H(this,"C61HotspotMapDescription",this.C122MapContainer&&this.C122MapContainer.querySelector("[data-description-hotspot-map]")),H(this,"C122LeftSideTitle",this.C122MapContainer&&this.C122MapContainer.querySelector("[data-left-title]")),H(this,"C61HotspotMapTitleDiv",this.C122MapContainer&&this.C122MapContainer.querySelector("[data-title-container-hotspot-map]")),H(this,"C61HotspotMapTitle",this.C122MapContainer&&this.C122MapContainer.querySelector('[data-component="a03-heading"]')),H(this,"o64HotspotMainMapBackground",this.o64HotspotMap&&this.o64HotspotMap.querySelector("[data-hotspot-main-background-wrapper]")),H(this,"backgroundImage",document.querySelector("a01-image")),H(this,"o104HotspotMapBackground",this.o64HotspotMap&&this.o64HotspotMap.querySelector("[data-hotspot-background-wrapper]")),H(this,"o104HotspotMapScrollRestrict",this.o64HotspotMap&&this.o64HotspotMap.querySelector("[data-hotspot-background-wrapper]")),H(this,"app",null),H(this,"isStaticComponent",this.element.classList.contains("-isStatic")),H(this,"hotspots",this.getElements("[data-hotspot]")),H(this,"tooltips",this.getElements(`[data-component="${r.Z.displayName}"]`)),H(this,"mapImage",this.getElement("[data-image-img]")),H(this,"hotspotContainer",this.getElement("[data-hotspot-container]")),H(this,"hotspotBackground",this.getElement("[data-hotspot-background]")),H(this,"container",this.getElement("[image-container]")),H(this,"img",this.getElement("[data-hotspot-background]")),H(this,"a01ImageComponent",document&&document.querySelector(`[data-component="${A.Z.displayName}"]`)),H(this,"a01Image",this.getElement("[data-image-img]")),H(this,"exploreBtn",this.C122MapContainer&&this.C122MapContainer.querySelector("[explore-shushah-map-icon]")),H(this,"zoomBtn",this.C122MapContainer&&this.C122MapContainer.querySelector("[zoom-shushah-map-icon]")),H(this,"zoomNotice",this.C122MapContainer&&this.C122MapContainer.querySelector("[zoom-notice]")),H(this,"gestureNotice",this.C122MapContainer&&this.C122MapContainer.querySelector("[gesture-notice]")),H(this,"scale",1),H(this,"initialZoom",100),H(this,"initialDistance"),H(this,"currentScale",1),H(this,"isImageZoomed",!1),H(this,"hotspotData",JSON.parse(this.element.dataset.items)),H(this,"draggableInstance",null),H(this,"isMobile",c.Z.currentDeviceState.state<d().deviceState.MEDIUM),H(this,"items"),H(this,"regionButtons",this.getElements("[data-region-button]")),H(this,"regionDescriptions",this.getElements("[data-region-description]")),H(this,"regionBackgroundImages",this.getElements(".o-hotspotMap__backgroundRegions .a-image")),H(this,"activeRegionIndex",-1),H(this,"currentIndex",-1),H(this,"oModal",document&&document.querySelector(`[data-component="${S.default.displayName}"]`)),H(this,"swiperSlider"),H(this,"chosenRegion",null),H(this,"slider",this.getElement("[data-regions-slider]")),H(this,"sliderContainer",this.getElement("[data-regions-slider-container]")),H(this,"pagination",this.getElement("[data-slider-pagination]")),H(this,"previousButton",this.getElement("[data-previous-button]")),H(this,"nextButton",this.getElement("[data-next-button]")),H(this,"discoverLocationsButton",this.getElement("[data-discover-locations-button]")),H(this,"regionsDescriptionSlider",this.getElement(".o-hotspotMap__regionsDescriptionSlider")),H(this,"tooltipWrapper",document.querySelector(".transparent__tooltipWrapper")),H(this,"scrollContainer",this.element.hasAttribute("data-scroll-component")&&this.element),H(this,"imageSizeInterval",null),H(this,"IMAGE_SIZE_INTERVAL_DELAY",2e3),H(this,"isMagnaMap",!0),H(this,"dirRTL",!!document.querySelector('[dir="rtl"]')),H(this,"isModalOpen",!1),H(this,"S10MapOverlayElement",document&&document.querySelector(`[data-component="${_.default.displayName}"]`)),H(this,"hotspotsmallestLeftValue",0),H(this,"hotspothightestLeftValue",0),H(this,"returnToCenter",null==(f=null==(f=null==(f=this.element.parentElement)?void 0:f.parentElement)?void 0:f.getElementsByClassName("b-map-container__returnToCenter"))?void 0:f[0]),H(this,"mapVariant",null==(f=null==(f=null==this?void 0:this.element)?void 0:f.dataset)?void 0:f.mapvariant),H(this,"theme",null==(f=null==(f=null==this?void 0:this.element)?void 0:f.dataset)?void 0:f.theme),this.transitionController=new g(this),this.handleDeviceStateChange(c.Z.currentDeviceState),this.isStaticComponent?this.setStaticHotspots():this.addEventListeners(),this.mapImage&&this.isMobile&&(this.imageSizeInterval=window.setInterval(()=>{this.centerMapPosition(),this.disposeImageSizeInterval()},this.IMAGE_SIZE_INTERVAL_DELAY)),this.tooltips.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.add(h.b.OPEN)}),this.items=this.hotspotData.flatMap((e,s)=>{return(Array.isArray(e.content)?e.content:[e.content]).map(t=>({content:t,hotspotIndex:s,moustacheText:e.regionId}))}),0<this.regionDescriptions.length&&this.isMobile&&(this.initDescriptionsSwiper(),this.fitDescriptionSwiper()),"shushah"===this.mapVariant){const i=[];this.hotspots.forEach(t=>{var e,s=t.querySelector(".hotspotButton-label");s&&"80%"<t.style.left&&(e=s.closest(".hotspotButton"))&&e.classList.add("right-hotspot"),s&&40<((null==(e=s.textContent)?void 0:e.length)||0)&&"40%"<t.style.left&&(i.push(s.textContent),e=s.closest(".hotspotButton"))&&e.classList.add("large-hotspot")})}this.isMobile&&("shushah"===this.mapVariant&&this.resetZoom(),this.hotspots.forEach((t,e)=>{var{}=JSON.parse(t.dataset.item)})),this.exploreBtn&&this.gestureNotice&&(this.exploreBtn.style.display="none",this.gestureNotice.style.display="none")}disposeImageSizeInterval(){this.mapImage&&this.imageSizeInterval&&0!==this.mapImage.naturalWidth&&0!==this.mapImage.naturalHeight&&window.clearInterval(this.imageSizeInterval)}fitDescriptionSwiper(){var t=null==(t=null==(t=this.slider)?void 0:t.parentElement)?void 0:t.offsetHeight;if(!t)throw new Error("Cannot get height of slider container");this.element.style.marginBottom=t+"px"}initDescriptionsSwiper(){this.slider&&(s.Z.use([i.Z,o.Z]),this.swiperSlider=new s.Z(this.slider,{direction:"horizontal",loop:!0,slidesPerView:"auto",spaceBetween:40,navigation:{nextEl:(0,I.t6)()?this.previousButton:this.nextButton,prevEl:(0,I.t6)()?this.nextButton:this.previousButton},pagination:{bulletClass:"a-pageIndicators__item",bulletElement:"span",bulletActiveClass:h.b.ACTIVE,currentClass:h.b.ACTIVE,el:this.pagination,type:"bullets"},on:{slideChange:t=>{-1!==this.activeRegionIndex&&this.regionButtons[t.realIndex].click()}}}))}setStaticHotspots(){this.hotspots.forEach((t,e)=>{var s;(null==(s=null==t?void 0:t.classList)?void 0:s.contains(h.b.ACTIVE))&&null!=(s=null==t?void 0:t.classList)&&s.add(h.b.ACTIVE)})}getExtremesByLeftValue(t){t=JSON.parse(t.dataset.item).offset,t=parseFloat(t.y);isNaN(t)||((t<this.hotspotsmallestLeftValue||0===this.hotspotsmallestLeftValue)&&(this.hotspotsmallestLeftValue=t),t>this.hotspothightestLeftValue&&(this.hotspothightestLeftValue=t))}resetZoom(){this.a01Image&&(this.a01Image.style.zoom="100%")}addEventListeners(){var t;this.hotspots.forEach((e,s)=>{this.getExtremesByLeftValue(e);var t=e.querySelector("[data-m-hotspot-button-wrapper]");this.addDisposableEventListener(this.isMagnaMap?t:e,"mouseenter",()=>{var t=e.querySelector(".m-tooltipTransparent__icon-hoz"),t=(null!=(t=null==t?void 0:t.classList)&&t.remove(h.b.OPEN),e.querySelector(".m-tooltipTransparent__icon")),t=(null!=(t=null==t?void 0:t.classList)&&t.add(h.b.OPEN),e.querySelector(".m-tooltipTransparent__textContainer"));null!=(t=null==t?void 0:t.classList)&&t.add(h.b.OPEN),this.currentIndex=s}),this.addDisposableEventListener(e,"click",t=>{t.stopPropagation(),this.onHotSpotClick(s,e),null!=(t=this.hotspotContainer)&&t.classList.add(h.b.DISABLED);var t=e.querySelector(".m-tooltipTransparent__icon-hoz"),t=(null!=(t=null==t?void 0:t.classList)&&t.add(h.b.OPEN),e.querySelector(".m-tooltipTransparent__icon")),t=(null!=(t=null==t?void 0:t.classList)&&t.remove(h.b.OPEN),e.querySelector(".m-tooltipTransparent__textContainer"));null!=(t=null==t?void 0:t.classList)&&t.remove(h.b.OPEN)})}),this.o104HotspotMapBackground&&this.o104HotspotMapScrollRestrict&&this.addDisposableEventListener(this.o104HotspotMapBackground,"scroll",()=>{if(this.isMobile){var s=((null==(s=this.o104HotspotMapBackground)?void 0:s.scrollLeft)||0)*(this.dirRTL?-1:1),i=(null==(i=this.o104HotspotMapBackground)?void 0:i.scrollWidth)||0,o=(null==(o=this.o104HotspotMapBackground)?void 0:o.clientWidth)||0;let t=this.hotspotsmallestLeftValue*i/100,e=(100-this.hotspothightestLeftValue)*i/100;this.dirRTL&&([t,e]=[e,t]),this.o104HotspotMapBackground&&(s<t||i-o-s<e?null!=(o=null==(i=this.returnToCenter)?void 0:i.classList)&&o.add(h.b.ACTIVE):null!=(i=null==(s=this.returnToCenter)?void 0:s.classList)&&i.remove(h.b.ACTIVE))}}),this.returnToCenter&&this.addDisposableEventListener(this.returnToCenter,"click",()=>{this.centerMapPosition(!0)}),this.hotspotContainer&&this.addDisposableEventListener(this.hotspotContainer,"mouseenter",()=>{var t;null!=(t=this.hotspotContainer)&&t.classList.remove(h.b.DISABLED)}),this.hotspotContainer&&this.addDisposableEventListener(this.hotspotContainer,"click",()=>{var t;null!=(t=this.hotspotContainer)&&t.classList.remove(h.b.DISABLED)}),this.addDisposableEventListener(this.dispatcher,L.UPDATE_MAP,this.updateMap.bind(this)),this.addDisposableEventListener(c.Z,n.M_.STATE_UPDATE,t=>this.handleDeviceStateChange(t.data)),this.regionButtons.forEach((t,e)=>{this.addDisposableEventListener(t,"mouseenter",()=>{this.toggleRegionHotpots(t,e)}),this.isMobile&&this.addDisposableEventListener(t,"click",()=>{this.showMobileRegionDescription(t,e)})}),this.discoverLocationsButton&&this.addDisposableEventListener(this.discoverLocationsButton,"click",()=>{var t=this.items.findIndex(t=>t.moustacheText===this.chosenRegion);this.openCarousel(-1===t?0:t)}),this.isMobile&&"shushah"===this.mapVariant&&(null!=(t=this.container)&&t.addEventListener("touchstart",t=>{2===t.touches.length&&(this.initialDistance=this.calcDistance(t.touches[0],t.touches[1]))},{passive:!1}),null!=(t=this.container)&&t.addEventListener("touchmove",t=>{2===t.touches.length&&this.initialDistance&&(t.preventDefault(),t=this.calcDistance(t.touches[0],t.touches[1]),this.a01Image)&&(this.initialDistance<t&&this.initialZoom<550?(this.initialZoom=this.initialZoom+.7,this.isImageZoomed=!0):this.initialDistance>t&&100<this.initialZoom&&(this.initialZoom=this.initialZoom-1,this.isImageZoomed=!1),this.a01Image.style.zoom=this.initialZoom+"%",this.exploreBtn)&&this.zoomBtn&&this.zoomNotice&&this.gestureNotice&&(this.initialZoom<175?(this.exploreBtn.style.display="none",this.gestureNotice.style.display="none",this.zoomBtn.style.display="block",this.zoomNotice.style.display="block",this.hotspots.forEach(t=>{var e=t.querySelector(".hotspotButton-label"),t=t.querySelector(".hotspotButton");t&&e&&(t.style.background="none",e.style.display="none")})):(this.exploreBtn.style.display="block",this.gestureNotice.style.display="block",this.zoomBtn.style.display="none",this.zoomNotice.style.display="none",this.hotspots.forEach(t=>{var e=t.querySelector(".hotspotButton-label"),t=t.querySelector(".hotspotButton");t&&e&&(t.style.background="#1D1F2299",e.style.display="block")})))},{passive:!1}),null!=(t=this.container))&&t.addEventListener("touchend",t=>{this.initialDistance=null})}calcDistance(t,e){var s=t.clientX-e.clientX,t=t.clientY-e.clientY;return Math.sqrt(s*s+t*t)}showMobileRegionDescription(t,e){var s;-1===this.activeRegionIndex&&this.regionsDescriptionSlider&&(l.TweenMax.to(this.regionsDescriptionSlider,.5,{y:0}),this.discoverLocationsButton)&&l.TweenMax.to(this.discoverLocationsButton,.5,{y:`-${this.regionsDescriptionSlider.clientHeight}px`}),null!=(s=this.swiperSlider)&&s.slideTo(e),this.toggleRegionHotpots(t,e)}toggleRegionHotpots(s,t){-1!==this.activeRegionIndex&&(this.regionBackgroundImages[this.activeRegionIndex].style.opacity="0",this.regionDescriptions[this.activeRegionIndex].style.opacity="0"),this.regionDescriptions[t].style.opacity="1",this.regionBackgroundImages[t].style.opacity="1",this.activeRegionIndex=t,this.hotspots.forEach(t=>{var e;this.chosenRegion=s.dataset.regionButton||null,t.dataset.item&&this.chosenRegion&&(e=JSON.parse(t.dataset.item),null!=(t=null==t?void 0:t.classList))&&t.toggle(h.b.HIDDEN,e.regionId!==this.chosenRegion)})}adopted(){return x(this,null,function*(){if(!window.location.href.includes("viewMode=story")){this.app=yield(0,u.n)(),this.addDisposableEventListener(this.app.element,"overlayAction",this.onOverlayAction.bind(this));var t=(0,C.e)();if(t){const e=.16*window.innerHeight;this.addDisposableEventListener(t.dispatcher,w.D.types.NAVIGATION_HEIGHT,t=>{this.isMobile&&this.element.style.setProperty("--hotspot-map-height",`calc(100vh - ${t.height}px - ${e}px)`)})}else this.element.style.setProperty("--hotspot-map-height","65vh")}})}onOverlayAction(t){window.matchMedia("(orientation: portrait)").matches;var e,s,t=t.detail.type,i=null==(i=null==(i=null==this?void 0:this.element)?void 0:i.dataset)?void 0:i.mapVariant;"CLOSE_MODAL"!=t?(this.stopExploringButton&&null!=(e=null==(e=this.stopExploringButton)?void 0:e.classList)&&e.remove(h.b.VISIBLE),null!=(e=null==(e=this.hotspots[this.currentIndex])?void 0:e.classList)&&e.remove(h.b.OPEN),e=null==(e=this.hotspots[this.currentIndex])?void 0:e.querySelector(".m-tooltipTransparent__icon-hoz"),s=null==(s=this.hotspots[this.currentIndex])?void 0:s.querySelector(".m-tooltipTransparent__icon"),null!=(e=null==e?void 0:e.classList)&&e.add(h.b.OPEN),null!=(e=null==s?void 0:s.classList)&&e.remove(h.b.OPEN),null!=(e=null==(s=this.C61HotspotMapDescription)?void 0:s.classList)&&e.remove("transparent-showDescription"),null!=(e=null==(s=this.C61HotspotMapTitle)?void 0:s.classList)&&e.remove("b-hotspotMap__a-heading"),this.isMobile||(null!=(e=null==(s=this.C122LeftSideTitle)?void 0:s.classList)&&e.remove("hideLeftTitle"),null!=(e=null==(s=this.C122LeftSideTitle)?void 0:s.classList)&&e.add("showLeftTitle")),"sindalah"===i&&(this.C122MapContainer&&(s=this.C122MapContainer.getBoundingClientRect().top,1024===window.innerWidth&&1366===window.innerHeight&&(null!=(e=this.oModal)&&e.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=s+"px"),(834===window.innerWidth&&1194===window.innerHeight||810===window.innerWidth&&1080===window.innerHeight||768===window.innerWidth&&1024===window.innerHeight||820===window.innerWidth&&1180===window.innerHeight)&&(null!=(i=this.oModal)&&i.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=s+"px"),768===window.innerWidth&&1024===window.innerHeight&&(null!=(e=this.oModal)&&e.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=s+"px"),769===window.innerWidth&&498===window.innerHeight&&(null!=(i=this.oModal)&&i.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=s+"px"),800===window.innerWidth)&&1280===window.innerHeight&&(null!=(e=this.oModal)&&e.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=s+"px"),this.isMobile||null!=(e=null==(i=this.o104HotspotMapBackground)?void 0:i.classList)&&e.remove("o-hotspotMap__background-wrapper"),null!=(i=null==(s=this.o104HotspotMapBackground)?void 0:s.classList))&&i.add("transparent__background-wrapper"),null!=(s=null==(e=this.C61HotspotMapDescription)?void 0:e.classList)&&s.add("transparent-hideDescription"),null!=(e=null==(i=this.C61HotspotMapTitle)?void 0:i.classList)&&e.add("transparent-heading"),this.isMagnaMap&&!this.isMobile&&(null!=(i=null==(s=this.C122LeftSideTitle)?void 0:s.classList)&&i.add("showLeftTitle"),null!=(s=null==(e=this.C122LeftSideTitle)?void 0:e.classList)&&s.remove("hideLeftTitle"),null!=(e=null==(i=this.C61HotspotMapTitleDiv)?void 0:i.classList)&&e.add("modal-open"),null!=(i=null==(s=this.C61HotspotMapTitleDiv)?void 0:s.classList)&&i.remove("modal-close"),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.add("modal-open")}),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.remove("modal-close")}))):("shushah"===this.mapVariant&&window.innerWidth<1025&&null!=(e=this.stopExploringButton)&&e.classList.add(h.b.VISIBLE),(window.innerWidth<768||this.isMobile)&&null!=(s=this.stopExploringButton)&&s.classList.add(h.b.VISIBLE),null!=(e=null==(i=this.tooltipWrapper)?void 0:i.classList)&&e.remove("shifted"),null!=(i=null==(s=this.o104HotspotMapBackground)?void 0:s.classList)&&i.remove("transparent__background-wrapper"),null!=(s=null==(e=this.o64HotspotMainMapBackground)?void 0:e.classList)&&s.add("o-hotspotMap__background-transparentWrapper"),null!=(e=null==(i=this.o64HotspotMainMapBackground)?void 0:i.classList)&&e.remove("transparent-transparentBackgroundWrapper"),null!=(i=null==(s=this.C61HotspotMapDescription)?void 0:s.classList)&&i.remove("transparent-hideDescription"),null!=(s=null==(e=this.C61HotspotMapTitle)?void 0:e.classList)&&s.remove("transparent-heading"),null!=(e=null==(i=this.C122LeftSideTitle)?void 0:i.classList)&&e.add("hideLeftTitle"),null!=(i=null==(s=this.C122LeftSideTitle)?void 0:s.classList)&&i.remove("showLeftTitle"),768<window.innerWidth&&(null!=(s=null==(e=this.o64HotspotMainMapBackground)?void 0:e.classList)&&s.add("o-hotspotMap__background-transparentWrapper"),null!=(e=null==(i=this.o64HotspotMainMapBackground)?void 0:i.classList)&&e.add("o-hotspotMap__background-wrapper"),null!=(i=null==(s=this.o64HotspotMainMapBackground)?void 0:s.classList)&&i.remove("transparent-transparentBackgroundWrapper"),null!=(s=null==(e=this.m26HotspotButtonMapWrapper)?void 0:e.classList))&&s.add("hotspotButton__row-shushah"),null!=(e=null==(i=this.C61HotspotMapTitle)?void 0:i.classList)&&e.add("b-hotspotMap__a-heading"),null!=(i=null==(s=this.C61HotspotMapDescription)?void 0:s.classList)&&i.add("transparent-showDescription"),null!=(s=null==(e=this.C122LeftSideTitle)?void 0:e.classList)&&s.add("hideLeftTitle"),null!=(e=null==(i=this.C122LeftSideTitle)?void 0:i.classList)&&e.remove("showLeftTitle"),this.isMagnaMap&&(null!=(i=null==(s=this.C61HotspotMapTitleDiv)?void 0:s.classList)&&i.add("modal-close"),null!=(s=null==(e=this.C61HotspotMapTitleDiv)?void 0:e.classList)&&s.remove("modal-open"),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.remove("modal-open")}),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.add("modal-close")}),this.hotspots.forEach(t=>{var e=null==(e=JSON.parse(t.dataset.item))?void 0:e.offset;e&&this.setHotspotsOffset(t,e)}),this.isModalOpen=!1)),t===y.zr.CLOSE&&0<this.regionDescriptions.length&&!this.isMobile&&null!=(i=this.regionDescriptions[this.activeRegionIndex])&&i.dataset&&({positionX:e,positionY:s}=i.dataset,l.TweenMax.to(i,.5,{left:e,top:s}))}centerMapPosition(t=!1){var e,s,i;this.hotspotBackground&&this.scrollContainer&&this.isMobile&&(s=(null==(s=this.mapImage)?void 0:s.naturalWidth)||0,i=(null==(i=this.mapImage)?void 0:i.naturalHeight)||0,s=(s-window.innerWidth)/2,i=(i-window.innerHeight)/2,null!=(e=null==(e=null==(e=this.scrollContainer)?void 0:e.getElementsByClassName("o104-map-container__background-wrapper"))?void 0:e[0]))&&e.scroll({top:i,left:s*(this.dirRTL?-1:1),behavior:t?"smooth":"auto"})}onHotSpotClick(t,e=0){var s;this.isMobile&&null!=(s=this.o64HotspotMainMapBackground)&&s.remove(),this.isModalOpen=!0,this.openCarousel(t)}openCarousel(n){return x(this,null,function*(){var t=this.hotspotData[n].content;const e=Array.isArray(t)?t[0]:t;var s,i,o,t=null==(t=null==(t=null==this?void 0:this.element)?void 0:t.dataset)?void 0:t.mapvariant,t={activeItemIndex:this.items.findIndex(t=>t.content===e),variant:"fullBleedCarousel",highlightHotspots:!0,items:this.items,mapVariant:t,icon:null==(t=this.hotspotData[n])?void 0:t.icon};"sindalah"===this.mapVariant?([s,i]=yield Promise.all([a.e("src_app_component_organism_o105-map-modal-carousel-content_o105-map-modal-carousel-content_hb-5f7778").then(a.t.bind(a,30520,23)),null==(s=this.app)?void 0:s.mapOverlay]),yield null==i?void 0:i.dispatchAction({type:y.zr.STANDARD_DYNAMIC,payload:{template:s.default,data:t,options:{classnames:["-fullBleedCarousel"]}}})):(s=(null==(i=this.theme)?void 0:i.toString())||"",[i,o]=yield Promise.all([Promise.all([a.e("src_app_component_organism_o01-video_o01-video_hbs_include"),a.e("src_app_component_atom_a03-heading_a03-heading_hbs_include-src_app_component_atom_a04-eyebrow-50c0de"),a.e("src_app_component_organism_o107-map-modal-carousel-content_o107-map-modal-carousel-content_hb-9f4f1b")]).then(a.t.bind(a,64741,23)),null==(i=this.app)?void 0:i.mapOverlay]),yield null==o?void 0:o.dispatchAction({type:y.zr.STANDARD_DYNAMIC,payload:{template:i.default,data:t,options:{classnames:["-fullBleedCarousel",s]}}})),this.S10MapOverlayElement&&(this.S10MapOverlayElement.style.display="block")})}handleDeviceStateChange({state:t}){t<d().deviceState.MEDIUM?(this.centerMapPosition(),this.hotspots.forEach(t=>{var e=JSON.parse(t.dataset.item)["offset"];this.setHotspotsOffset(t,e)})):(this.draggableInstance&&(this.draggableInstance[0].kill(),l.TweenLite.set(this.hotspotBackground,{clearProps:"x,y"})),this.hotspots.forEach(t=>{var e=null==(e=JSON.parse(t.dataset.item))?void 0:e.offset;e&&this.setHotspotsOffset(t,e)}))}setHotspotsOffset(t,e){this.isMobile&&"shushah"===this.mapVariant?(t.style.top=e.transitionY+"%",t.style.left=e.transitionX+"%"):(t.style.top=e.y+"%",t.style.left=e.x+"%")}updateMap(t){const e=t.hotspots;this.hotspots.forEach(t=>{t.classList.toggle(h.b.HIDDEN,!e.includes(t))})}hideContent(){var t;this.hotspots.forEach(t=>{t.classList.add(h.b.HIDDEN),t.classList.remove(h.b.ACTIVE)}),this.regionButtons.forEach(t=>{t.classList.add(h.b.HIDDEN)}),null!=(t=this.discoverLocationsButton)&&t.classList.add(h.b.HIDDEN),this.tooltips.forEach(t=>t.classList.remove(h.b.OPEN)),null!=(t=this.sliderContainer)&&t.classList.add(h.b.DISABLED)}showContent(){var t;this.isMobile&&"shushah"===this.mapVariant&&this.resetZoom(),this.hotspots.forEach(t=>{t.classList.remove(h.b.HIDDEN)}),this.regionButtons.forEach(t=>{t.classList.remove(h.b.HIDDEN)}),null!=(t=this.discoverLocationsButton)&&t.classList.add(h.b.HIDDEN),this.tooltips.forEach(t=>t.classList.add(h.b.OPEN)),null!=(t=this.sliderContainer)&&t.classList.remove(h.b.DISABLED)}dispose(){this.imageSizeInterval&&window.clearInterval(this.imageSizeInterval)}}H(O,"displayName","o104-map-container")},55328:(t,e,s)=>{s.r(e),s.d(e,{default:()=>A});var e=s(83694),i=s(12919),h=s(51456),p=s(91786),o=s(69106),n=s(6314),d=s(49490),a=s(3642),l=s(27988),r=s(10665);class c extends l.Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s);s=e.getElement("[data-panel]"),e=e.getElement("[data-mask]");s&&t.fromTo(s,.5,{xPercent:100,opacity:0},{xPercent:0,opacity:1,ease:r.Expo.easeInOut,clearProps:"visibility"},"0"),e&&t.fromTo(e,.3,{opacity:0},{opacity:1,ease:r.Power2.easeInOut,clearProps:"opacity, visibility"},"0")}setupTransitionOutTimeline(t,e,s){}setupLoopingAnimationTimeline(t,e,s){}}const u=c;var l=s(27404),m=s.n(l),v=s(37629),g=s(54081),y=s(40573),b=s(87600),E=s(91633),M=Object.defineProperty,L=Object.defineProperties,f=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(t,e,s)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,T=(t,e,s)=>(D(t,"symbol"!=typeof e?e+"":e,s),s),S=(t,a,l)=>new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});const _={OPEN_MODAL_STANDARD:()=>s.e("src_app_component_organism_o11-modal-content_o11-modal-content_hbs_include").then(s.t.bind(s,94843,23))};class A extends e.Z{constructor(t){super(t),T(this,"transitionController"),T(this,"previousModalButtons",null),T(this,"modalContainer",this.getElement("[data-modal-container]")),T(this,"modalI18n",this.element.dataset.i18n&&JSON.parse(this.element.dataset.i18n)),T(this,"closeButton",this.getElement("[data-close-button]")),T(this,"mask",this.getElement("[data-mask]")),T(this,"app",null),T(this,"previouslyRenderedActions",[]),T(this,"dataFragmentDisposables",new n.jn),T(this,"previousButtonsDisposables",new n.jn),T(this,"initialClassName",this.element.className),T(this,"mapOverlay"),T(this,"trappedFocus"),T(this,"S10MapOverlayElement",document&&document.querySelector(`[data-component="${g.default.displayName}"]`)),T(this,"changeContent",()=>S(this,null,function*(){var t;yield null==(t=this.mapOverlay)?void 0:t.dispatchAction({type:p.zr.SLIDE_CHANGE})})),T(this,"dispatchCloseAction",()=>S(this,null,function*(){var t=document.querySelectorAll(".o-hotspotMap__hotspotPolygon.-isActive");t&&null!=t&&t.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.remove(d.b.ACTIVE)}),this.mapOverlay=null!=(t=this.mapOverlay)?t:yield null==(t=this.app)?void 0:t.mapOverlay,yield null==(t=this.mapOverlay)?void 0:t.dispatchAction({type:p.zr.CLOSE})})),T(this,"handleAction",l=>S(this,null,function*(){switch(l.type){case p.zr.STANDARD_DYNAMIC:this.previouslyRenderedActions.push(l);var{template:t,data:e,options:s}=l.payload,s=(this.element.className=this.initialClassName,null!=s&&s.classnames&&s.classnames.forEach(t=>this.element.classList.add(t)),e.backButtonLabel),i=(null==(i=null==(i=this.modalI18n)?void 0:i.common)?void 0:i.back)||"",o=(null==(o=null==(o=this.modalI18n)?void 0:o.common)?void 0:o.previousArrowCta)||"",n=(null==(n=null==(n=this.modalI18n)?void 0:n.common)?void 0:n.nextArrowCta)||"",a=v.Z.currentDeviceState.state<=m().deviceState.MEDIUM,a=1<this.previouslyRenderedActions.length?a&&s||i:void 0,i=t((s=((t,e)=>{for(var s in e=e||{})C.call(e,s)&&D(t,s,e[s]);if(I)for(var s of I(e))w.call(e,s)&&D(t,s,e[s]);return t})({},e),L(s,f({backButtonLabel:a,previousArrowButtonLabel:o,nextArrowButtonLabel:n}))));yield this.openDynamic(i);break;case p.zr.CLOSE:yield this.closeModal()}})),this.transitionController=new u(this)}adopted(){return S(this,null,function*(){var t;this.app=yield(0,a.n)(),[this.closeButton].forEach(t=>{t&&this.addDisposableEventListener(t,"click",this.dispatchCloseAction)}),[this.mask].forEach(t=>{t&&this.addDisposableEventListener(t,"click",this.changeContent)}),this.addDisposableEventListener(null==(t=this.app)?void 0:t.element,"overlayAction",t=>S(this,null,function*(){yield this.handleAction(t.detail)}))})}openDynamic(t){return S(this,null,function*(){if(null==this.modalContainer)throw new Error("this.modalContainer is undefined");if(this.element.classList.add(d.b.OPEN),this.modalContainer.innerHTML=t,(yield(0,E.L)(this.modalContainer))||(yield(0,o.LH)(this.modalContainer)),this.scrollEnabled=!1,null===this.modalContainer)throw new Error("The Modal container was not found");return this.assignPreviousModalButtons(),this.addListenersToElementsWithDataFragmentId(),(0,y.T)(this.dispatchCloseAction),this.trappedFocus=(0,b.S)(this.element),this.transitionIn()})}addListenersToElementsWithDataFragmentId(){var t=this.getElements("[data-nested-modal-id]");this.dataFragmentDisposables.dispose(),t.forEach(t=>{const e=t.dataset.nestedModalId;t=t.querySelector(`[data-component="${i.Z.displayName}"]`);t&&e&&this.addDisposableEventListener(t,"click",()=>this.requestDataFragment(e),this.dataFragmentDisposables)})}requestDataFragment(r){return S(this,null,function*(){var t;try{var{type:e,payload:s}=yield(yield(0,h.Z)(r)).json(),i=_[e],[o,n]=yield Promise.all([i(),null==(t=this.app)?void 0:t.mapOverlay]),a=[],l=("dark"===s.theme&&a.push(d.G.DARK),"navy"===s.theme&&a.push(d.G.NAVY),s.transparent&&a.push(d.b.TRANSPARENT),{type:p.zr.STANDARD_DYNAMIC,payload:{template:o.default,data:s.content,options:{classnames:a}}});yield null==n?void 0:n.dispatchAction(l)}catch(t){console.log(t)}})}assignPreviousModalButtons(){this.previousButtonsDisposables.dispose(),this.previousModalButtons=this.getElements("[data-back-button]"),this.previousModalButtons.forEach(t=>this.addDisposableEventListener(t,"click",()=>{this.goToPreviousModal()}),this.previousButtonsDisposables)}goToPreviousModal(){return S(this,null,function*(){this.modalContainer&&(0,o.G8)(this.modalContainer);var t=this.previouslyRenderedActions.splice(-2)[0],e=yield null==(e=this.app)?void 0:e.mapOverlay;t&&(yield null==e?void 0:e.dispatchAction(t))})}closeModal(){return S(this,null,function*(){var t;this.previouslyRenderedActions=[],this.element.classList.remove(d.b.OPEN),this.scrollEnabled=!0,yield this.transitionOut(),this.modalContainer&&(0,o.G8)(this.modalContainer),null!=(t=this.modalContainer)&&t.scrollTo(0,0),null!=(t=this.trappedFocus)&&t.removeFocus(),this.S10MapOverlayElement&&(this.S10MapOverlayElement.style.display="none")})}set scrollEnabled(t){if(!this.app)throw new Error("The app component cannot be found");this.app.toggleScroll(t)}}T(A,"displayName","o106-map-modal")},65683:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var s=n(63845),i=n(95186),o=n(52997),a=n(10732),l=n(10665),r=n(5826),e=n(83694),h=n(31417),p=n(49490),d=n(27404),c=n.n(d),u=n(37629),m=n(3642),d=n(27988),v=n(97554);class g extends d.Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s)}setupTransitionOutTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s);s=e.getElements("[data-hotspot]");t.from(e.element,.5,{x:-200,autoAlpha:0}),t.staggerFromTo(s.filter(t=>null!==t),.6,{y:150,autoAlpha:0},{y:0,autoAlpha:1,ease:v.Z.VinnieInOut,stagger:{amount:.8}},0)}setupLoopingAnimationTimeline(t,e,s){}}const y=g;var b=n(91786),E=n(46839),M=n(82266),L=n(77015),f=n(62018),I=n(76528),C=n(5708),w=n(59330),D=Object.defineProperty,T=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s},S=(t,a,l)=>new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});const _=class _ extends e.Z{constructor(t){super(t),T(this,"transitionController"),T(this,"C61HotspotMap",document&&document.querySelector(`[data-component="${I.default.displayName}"]`)),T(this,"stopExploringButton",this.C61HotspotMap&&this.C61HotspotMap.querySelector("[data-stop-exploring-button]")),T(this,"m24Tooltip",document&&document.querySelector(`[data-component="${h.Z.displayName}"]`)),T(this,"m24TooltipRow",this.m24Tooltip&&this.m24Tooltip.querySelector("[data-tooltip-row]")),T(this,"m26HotspotButtonMap",document&&document.querySelector(`[data-component="${C.Z.displayName}"]`)),T(this,"m26HotspotButtonMapWrapper",this.m26HotspotButtonMap&&this.m26HotspotButtonMap.querySelector("[data-m-hotspot-button-wrapper]")),T(this,"m26HotspotButtonMapWrapperWhiteDots",this.getElements("[data-m-hotspot-button-wrapper]")),T(this,"o64HotspotMap",document&&document.querySelector(`[data-component="${_.displayName}"]`)),T(this,"C61HotspotMapDescription",this.C61HotspotMap&&this.C61HotspotMap.querySelector("[data-description-hotspot-map]")),T(this,"C61HotspotMapTitleDiv",this.C61HotspotMap&&this.C61HotspotMap.querySelector("[data-title-container-hotspot-map]")),T(this,"C61HotspotMapTitle",this.C61HotspotMap&&this.C61HotspotMap.querySelector('[data-component="a03-heading"]')),T(this,"o64HotspotMainMapBackground",this.o64HotspotMap&&this.o64HotspotMap.querySelector("[data-hotspot-main-background-wrapper]")),T(this,"o64HotspotToolTip",this.o64HotspotMap&&this.o64HotspotMap.querySelector("[data-tooltip-wrapper]")),T(this,"backgroundImage",document.querySelector("a01-image")),T(this,"o64HotspotMapBackground",this.o64HotspotMap&&this.o64HotspotMap.querySelector("[data-hotspot-background-wrapper]")),T(this,"app",null),T(this,"isStaticComponent",this.element.classList.contains("-isStatic")),T(this,"hotspots",this.getElements("[data-hotspot]")),T(this,"tooltipWrappers",this.getElements("[data-tooltip-wrapper]")),T(this,"tooltipCircle",this.getElements("[data-tooltip-circle]")),T(this,"tooltips",this.getElements(`[data-component="${h.Z.displayName}"]`)),T(this,"mapImage",this.getElement("[data-image-img]")),T(this,"hotspotContainer",this.getElement("[data-hotspot-container]")),T(this,"hotspotBackground",this.getElement("[data-hotspot-background]")),T(this,"hotspotBackgroundWrapper",this.getElement("[data-hotspot-background-wrapper]")),T(this,"hotspotData",JSON.parse(this.element.dataset.items)),T(this,"draggableInstance",null),T(this,"isMobile",u.Z.currentDeviceState.state<c().deviceState.MEDIUM),T(this,"items"),T(this,"regionButtons",this.getElements("[data-region-button]")),T(this,"regionDescriptions",this.getElements("[data-region-description]")),T(this,"regionBackgroundImages",this.getElements(".o-hotspotMap__backgroundRegions .a-image")),T(this,"activeRegionIndex",-1),T(this,"currentIndex",-1),T(this,"oModal",document&&document.querySelector(`[data-component="${w.default.displayName}"]`)),T(this,"swiperSlider"),T(this,"chosenRegion",null),T(this,"slider",this.getElement("[data-regions-slider]")),T(this,"sliderContainer",this.getElement("[data-regions-slider-container]")),T(this,"pagination",this.getElement("[data-slider-pagination]")),T(this,"previousButton",this.getElement("[data-previous-button]")),T(this,"nextButton",this.getElement("[data-next-button]")),T(this,"discoverLocationsButton",this.getElement("[data-discover-locations-button]")),T(this,"regionsDescriptionSlider",this.getElement(".o-hotspotMap__regionsDescriptionSlider")),T(this,"tooltipWrapper",document.querySelector(".transparent__tooltipWrapper")),T(this,"imageSizeInterval",null),T(this,"IMAGE_SIZE_INTERVAL_DELAY",2e3),T(this,"xAxisOffset",this.element.dataset.xAxisOffset?Number(this.element.dataset.xAxisOffset):null),T(this,"isMagnaMap",this.getIsMagna()),T(this,"isModalOpen",!1),this.transitionController=new y(this),this.handleDeviceStateChange(u.Z.currentDeviceState),this.isStaticComponent?this.setStaticHotspots():this.addEventListeners(),this.mapImage&&this.isMobile&&(this.imageSizeInterval=window.setInterval(()=>{this.setBackgroundWidthAndHeight(),this.centerMapPosition(),this.disposeImageSizeInterval()},this.IMAGE_SIZE_INTERVAL_DELAY)),this.isMobile&&this.createDraggableInstance(),this.tooltips.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.add(p.b.OPEN)}),this.items=this.hotspotData.flatMap((e,s)=>{return(Array.isArray(e.content)?e.content:[e.content]).map(t=>({content:t,hotspotIndex:s,moustacheText:e.regionId}))}),0<this.regionDescriptions.length&&this.isMobile&&(this.initDescriptionsSwiper(),this.fitDescriptionSwiper()),this.isMobile&&this.hotspots.forEach((t,e)=>{var{}=JSON.parse(t.dataset.item)})}disposeImageSizeInterval(){this.mapImage&&this.imageSizeInterval&&0!==this.mapImage.naturalWidth&&0!==this.mapImage.naturalHeight&&window.clearInterval(this.imageSizeInterval)}fitDescriptionSwiper(){var t=null==(t=null==(t=this.slider)?void 0:t.parentElement)?void 0:t.offsetHeight;if(!t)throw new Error("Cannot get height of slider container");this.element.style.marginBottom=t+"px"}initDescriptionsSwiper(){this.slider&&(s.Z.use([i.Z,o.Z]),this.swiperSlider=new s.Z(this.slider,{direction:"horizontal",loop:!0,slidesPerView:"auto",spaceBetween:40,navigation:{nextEl:(0,M.t6)()?this.previousButton:this.nextButton,prevEl:(0,M.t6)()?this.nextButton:this.previousButton},pagination:{bulletClass:"a-pageIndicators__item",bulletElement:"span",bulletActiveClass:p.b.ACTIVE,currentClass:p.b.ACTIVE,el:this.pagination,type:"bullets"},on:{slideChange:t=>{-1!==this.activeRegionIndex&&this.regionButtons[t.realIndex].click()}}}))}getIsMagna(){var t;return"transparent"===(null==(t=null==(t=null==this?void 0:this.element)?void 0:t.dataset)?void 0:t.animationtype)}setStaticHotspots(){this.hotspots.forEach((t,e)=>{var s;(null==(s=null==t?void 0:t.classList)?void 0:s.contains(p.b.ACTIVE))&&(null!=(s=null==t?void 0:t.classList)&&s.add(p.b.ACTIVE),null!=(s=null==(t=this.tooltipWrappers[e])?void 0:t.classList))&&s.add(p.b.OPEN)})}addEventListeners(){this.hotspots.forEach((e,s)=>{var t=e.querySelector("[data-m-hotspot-button-wrapper]");this.addDisposableEventListener(this.isMagnaMap?t:e,"mouseenter",()=>{this.setHotspotState(e,s);var t=e.querySelector(".m-tooltipTransparent__icon-hoz"),t=(null!=(t=null==t?void 0:t.classList)&&t.remove(p.b.OPEN),e.querySelector(".m-tooltipTransparent__icon")),t=(null!=(t=null==t?void 0:t.classList)&&t.add(p.b.OPEN),e.querySelector(".m-tooltipTransparent__textContainer"));null!=(t=null==t?void 0:t.classList)&&t.add(p.b.OPEN),this.currentIndex=s}),this.isMagnaMap?this.tooltipWrappers&&this.addDisposableEventListener(this.tooltipWrappers[s],"mouseleave",()=>{var t;null!=(t=this.hotspotContainer)&&t.classList.contains(p.b.DISABLED)||(null!=(t=null==(t=this.hotspots[s])?void 0:t.classList)&&t.remove(p.b.ACTIVE),null!=(t=null==(t=this.tooltipWrappers[s])?void 0:t.classList)&&t.remove(p.b.OPEN))}):this.addDisposableEventListener(e,"mouseleave",()=>{var t;null!=(t=this.hotspotContainer)&&t.classList.contains(p.b.DISABLED)||(null!=(t=null==(t=this.hotspots[s])?void 0:t.classList)&&t.remove(p.b.ACTIVE),null!=(t=null==(t=this.tooltipWrappers[s])?void 0:t.classList)&&t.remove(p.b.OPEN))}),this.addDisposableEventListener(e,"click",t=>{t.stopPropagation(),this.onHotSpotClick(s,e),null!=(t=this.hotspotContainer)&&t.classList.add(p.b.DISABLED),this.setHotspotState(e,s);var t=e.querySelector(".m-tooltipTransparent__icon-hoz"),t=(null!=(t=null==t?void 0:t.classList)&&t.add(p.b.OPEN),e.querySelector(".m-tooltipTransparent__icon")),t=(null!=(t=null==t?void 0:t.classList)&&t.remove(p.b.OPEN),e.querySelector(".m-tooltipTransparent__textContainer"));null!=(t=null==t?void 0:t.classList)&&t.remove(p.b.OPEN)})}),this.hotspotContainer&&this.addDisposableEventListener(this.hotspotContainer,"mouseenter",()=>{var t;this.tooltipWrappers.forEach(t=>{null!=(t=null==t?void 0:t.classList)&&t.remove(p.b.OPEN)}),this.hotspots.forEach(t=>{null!=(t=null==t?void 0:t.classList)&&t.remove(p.b.ACTIVE)}),null!=(t=this.hotspotContainer)&&t.classList.remove(p.b.DISABLED)}),this.hotspotContainer&&this.addDisposableEventListener(this.hotspotContainer,"click",()=>{var t;this.tooltipWrappers.forEach(t=>{null!=(t=null==t?void 0:t.classList)&&t.remove(p.b.OPEN)}),this.hotspots.forEach(t=>{null!=(t=null==t?void 0:t.classList)&&t.remove(p.b.ACTIVE)}),null!=(t=this.hotspotContainer)&&t.classList.remove(p.b.DISABLED)}),this.addDisposableEventListener(this.dispatcher,E.w.UPDATE_MAP,this.updateMap.bind(this)),this.addDisposableEventListener(u.Z,a.M_.STATE_UPDATE,t=>this.handleDeviceStateChange(t.data)),this.regionButtons.forEach((t,e)=>{this.addDisposableEventListener(t,"mouseenter",()=>{this.toggleRegionHotpots(t,e)}),this.isMobile&&this.addDisposableEventListener(t,"click",()=>{this.showMobileRegionDescription(t,e)})}),this.discoverLocationsButton&&this.addDisposableEventListener(this.discoverLocationsButton,"click",()=>{var t=this.items.findIndex(t=>t.moustacheText===this.chosenRegion);this.openCarousel(-1===t?0:t)})}showMobileRegionDescription(t,e){var s;-1===this.activeRegionIndex&&this.regionsDescriptionSlider&&(l.TweenMax.to(this.regionsDescriptionSlider,.5,{y:0}),this.discoverLocationsButton)&&l.TweenMax.to(this.discoverLocationsButton,.5,{y:`-${this.regionsDescriptionSlider.clientHeight}px`}),null!=(s=this.swiperSlider)&&s.slideTo(e),this.toggleRegionHotpots(t,e)}toggleRegionHotpots(s,t){-1!==this.activeRegionIndex&&(this.regionBackgroundImages[this.activeRegionIndex].style.opacity="0",this.regionDescriptions[this.activeRegionIndex].style.opacity="0"),this.regionDescriptions[t].style.opacity="1",this.regionBackgroundImages[t].style.opacity="1",this.activeRegionIndex=t,this.hotspots.forEach(t=>{var e;this.chosenRegion=s.dataset.regionButton||null,t.dataset.item&&this.chosenRegion&&(e=JSON.parse(t.dataset.item),null!=(t=null==t?void 0:t.classList))&&t.toggle(p.b.HIDDEN,e.regionId!==this.chosenRegion)})}adopted(){return S(this,null,function*(){if(!window.location.href.includes("viewMode=story")){this.app=yield(0,m.n)(),this.addDisposableEventListener(this.app.element,"overlayAction",this.onOverlayAction.bind(this));var t=(0,L.e)();if(t){const e=.16*window.innerHeight;this.addDisposableEventListener(t.dispatcher,f.D.types.NAVIGATION_HEIGHT,t=>{this.element.style.setProperty("--hotspot-map-height",`calc(100vh - ${t.height}px - ${e}px)`)})}else this.element.style.setProperty("--hotspot-map-height","65vh")}})}onOverlayAction(t){window.matchMedia("(orientation: portrait)").matches;var e,s,t=t.detail.type,i=null==(i=null==(i=null==this?void 0:this.element)?void 0:i.dataset)?void 0:i.animationtype;"CLOSE_MODAL"!=t?(this.stopExploringButton&&null!=(s=this.stopExploringButton)&&s.classList.remove(p.b.VISIBLE),null!=(s=null==(s=this.hotspots[this.currentIndex])?void 0:s.classList)&&s.remove(p.b.OPEN),s=null==(s=this.hotspots[this.currentIndex])?void 0:s.querySelector(".m-tooltipTransparent__icon-hoz"),e=null==(e=this.hotspots[this.currentIndex])?void 0:e.querySelector(".m-tooltipTransparent__icon"),null!=(s=null==s?void 0:s.classList)&&s.add(p.b.OPEN),null!=(s=null==e?void 0:e.classList)&&s.remove(p.b.OPEN),null!=(s=null==(e=this.C61HotspotMapDescription)?void 0:e.classList)&&s.remove("transparent-showDescription"),null!=(s=null==(e=this.C61HotspotMapTitle)?void 0:e.classList)&&s.remove("b-hotspotMap__a-heading"),"transparent"===i&&(this.C61HotspotMap&&(e=this.C61HotspotMap.getBoundingClientRect().top,1024===window.innerWidth&&1366===window.innerHeight&&(null!=(s=this.oModal)&&s.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=e+"px"),(834===window.innerWidth&&1194===window.innerHeight||810===window.innerWidth&&1080===window.innerHeight||768===window.innerWidth&&1024===window.innerHeight||820===window.innerWidth&&1180===window.innerHeight)&&(null!=(i=this.oModal)&&i.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=e+"px"),768===window.innerWidth&&1024===window.innerHeight&&(null!=(s=this.oModal)&&s.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=e+"px"),769===window.innerWidth&&498===window.innerHeight&&(null!=(i=this.oModal)&&i.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=e+"px"),800===window.innerWidth)&&1280===window.innerHeight&&(null!=(s=this.oModal)&&s.classList.add("transparentOmodal"),this.oModal)&&(this.oModal.style.marginTop=e+"px"),this.isMobile||null!=(s=null==(i=this.o64HotspotMapBackground)?void 0:i.classList)&&s.remove("o-hotspotMap__background-wrapper"),null!=(i=null==(e=this.o64HotspotMapBackground)?void 0:e.classList)&&i.add("transparent__background-wrapper"),null!=(e=null==(s=this.o64HotspotMainMapBackground)?void 0:s.classList)&&e.remove("o-hotspotMap__background-transparentWrapper"),null!=(s=null==(i=this.o64HotspotMainMapBackground)?void 0:i.classList))&&s.add("transparent-transparentBackgroundWrapper"),null!=(i=null==(e=this.C61HotspotMapDescription)?void 0:e.classList)&&i.add("transparent-hideDescription"),null!=(e=null==(s=this.C61HotspotMapTitle)?void 0:s.classList)&&e.add("transparent-heading"),this.isMagnaMap&&(null!=(s=null==(i=this.C61HotspotMapTitleDiv)?void 0:i.classList)&&s.add("modal-open"),null!=(i=null==(e=this.C61HotspotMapTitleDiv)?void 0:e.classList)&&i.remove("modal-close"),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.add("modal-open")}),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.remove("modal-close")}))):((window.innerWidth<768||this.isMobile)&&null!=(s=this.stopExploringButton)&&s.classList.add(p.b.VISIBLE),null!=(i=null==(e=this.tooltipWrapper)?void 0:e.classList)&&i.remove("shifted"),null!=(e=null==(s=this.o64HotspotMapBackground)?void 0:s.classList)&&e.remove("transparent__background-wrapper"),null!=(s=null==(i=this.o64HotspotToolTip)?void 0:i.classList)&&s.remove("transparent-polygonTooltipWrapper"),null!=(i=null==(e=this.o64HotspotMainMapBackground)?void 0:e.classList)&&i.add("o-hotspotMap__background-transparentWrapper"),null!=(e=null==(s=this.o64HotspotMainMapBackground)?void 0:s.classList)&&e.remove("transparent-transparentBackgroundWrapper"),null!=(s=null==(i=this.C61HotspotMapDescription)?void 0:i.classList)&&s.remove("transparent-hideDescription"),null!=(i=null==(e=this.C61HotspotMapTitle)?void 0:e.classList)&&i.remove("transparent-heading"),768<window.innerWidth&&(null!=(e=null==(s=this.o64HotspotMainMapBackground)?void 0:s.classList)&&e.add("o-hotspotMap__background-transparentWrapper"),null!=(s=null==(i=this.o64HotspotMainMapBackground)?void 0:i.classList)&&s.add("o-hotspotMap__background-wrapper"),null!=(i=null==(e=this.o64HotspotMainMapBackground)?void 0:e.classList)&&i.remove("transparent-transparentBackgroundWrapper"),null!=(e=null==(s=this.m26HotspotButtonMapWrapper)?void 0:s.classList))&&e.add("m-hotspotButton__row"),null!=(s=null==(i=this.C61HotspotMapTitle)?void 0:i.classList)&&s.add("b-hotspotMap__a-heading"),null!=(i=null==(e=this.C61HotspotMapDescription)?void 0:e.classList)&&i.add("transparent-showDescription"),this.isMagnaMap&&(null!=(e=null==(s=this.C61HotspotMapTitleDiv)?void 0:s.classList)&&e.add("modal-close"),null!=(s=null==(i=this.C61HotspotMapTitleDiv)?void 0:i.classList)&&s.remove("modal-open"),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.remove("modal-open")}),this.hotspots.forEach(t=>{return null==(t=null==t?void 0:t.classList)?void 0:t.add("modal-close")}),this.hotspots.forEach(t=>{var e=null==(e=JSON.parse(t.dataset.item))?void 0:e.offset;e&&this.setHotspotsOffset(t,e)}),this.isModalOpen=!1)),t===b.zr.CLOSE&&0<this.regionDescriptions.length&&!this.isMobile&&null!=(e=this.regionDescriptions[this.activeRegionIndex])&&e.dataset&&({positionX:i,positionY:s}=e.dataset,l.TweenMax.to(e,.5,{left:i,top:s}))}setBackgroundWidthAndHeight(){var t=null==(t=this.mapImage)?void 0:t.naturalWidth,e=null==(e=this.mapImage)?void 0:e.naturalHeight;this.hotspotBackground&&(this.hotspotBackground.style.width=t+"px",this.hotspotBackground.style.height=e+"px")}createDraggableInstance(){this.hotspotBackgroundWrapper&&this.hotspotBackground&&!this.draggableInstance&&(this.draggableInstance=r.Z.create(this.hotspotBackground,{bounds:this.hotspotBackgroundWrapper,zIndexBoost:!1}))}centerMapPosition(){var t,e,s;this.hotspotBackground&&!isNaN(parseInt(this.hotspotBackground.style.width))&&this.hotspotBackground.style.width.includes("px")&&!isNaN(parseInt(this.hotspotBackground.style.height))&&this.hotspotBackground.style.height.includes("px")&&(t=parseInt(this.hotspotBackground.style.width),s=parseInt(this.hotspotBackground.style.height),e=(0,M.t6)()?-1:1,s=0<s/2-window.innerHeight/2?-1*(s/2-window.innerHeight/2):0,this.hotspotBackground)&&(this.xAxisOffset?l.TweenMax.set(this.hotspotBackground,{x:`-${this.xAxisOffset}%`,y:"0%"}):l.TweenMax.set(this.hotspotBackground,{transform:`translate3d(${-1*e*(t/2-window.innerWidth/2)}px, ${s}px, 0px)`}))}onHotSpotClick(t,e=0){var s;0<this.regionDescriptions.length&&!this.isMobile&&-1!==this.activeRegionIndex&&l.TweenMax.to(this.regionDescriptions[this.activeRegionIndex],.5,{left:"5%",top:"5%"}),this.isMobile||this.hotspots.forEach(t=>{var e=t&&JSON.parse(t.dataset.item).offset;e&&this.setHotspotsOffset(t,{x:e.transitionX,y:e.transitionY})}),this.isMobile&&null!=(s=this.o64HotspotMainMapBackground)&&s.remove(),this.isModalOpen=!0,this.openCarousel(t)}openCarousel(o){return S(this,null,function*(){var t=this.hotspotData[o].content;const e=Array.isArray(t)?t[0]:t;var t=null==(t=null==(t=null==this?void 0:this.element)?void 0:t.dataset)?void 0:t.animationtype,t={activeItemIndex:this.items.findIndex(t=>t.content===e),variant:"fullBleedCarousel",highlightHotspots:!0,items:this.items,animationType:t,icon:null==(t=this.hotspotData[o])?void 0:t.icon},[s,i]=yield Promise.all([n.e("src_app_component_organism_o09-modal-carousel-content_o09-modal-carousel-content_hbs_include").then(n.t.bind(n,52359,23)),null==(s=this.app)?void 0:s.overlay]);yield null==i?void 0:i.dispatchAction({type:b.zr.STANDARD_DYNAMIC,payload:{template:s.default,data:t,options:{classnames:["-fullBleedCarousel"]}}})})}setHotspotState(s,i){var t;window.matchMedia("(orientation: portrait)").matches;const o=null==(t=null==(t=null==this?void 0:this.element)?void 0:t.dataset)?void 0:t.animationtype;this.tooltipWrappers.forEach((t,e)=>{e!==i?(this.hotspots[e].classList.remove(p.b.ACTIVE),t.classList.remove(p.b.OPEN)):(s.classList.add(p.b.ACTIVE),t.classList.add(p.b.OPEN),this.setTooltipLocation(s,t),"transparent"===o&&768<window.innerWidth&&!this.isMobile&&(this.currentIndex=i))})}setTooltipLocation(t,e){if(!this.hotspotContainer)throw new Error("The Hotstpot container element is not found");var s=window.innerWidth-t.getBoundingClientRect().x-t.offsetWidth/2,t=t.getBoundingClientRect().x<e.offsetWidth/2,i=s&&s<e.offsetWidth/2;e.getBoundingClientRect().y<this.hotspotContainer.getBoundingClientRect().y&&e.classList.add(p.b.TOP),t&&e.classList.add(p.b.LEFT),i&&s&&e.classList.add(p.b.RIGHT)}moveHotspotBackgroundX(t){var e,s,i;this.hotspotBackground&&(s=this.hotspotBackground.style.transform,s=new RegExp("translate3d\\((?<x>.*?)px, (?<y>.*?)px, (?<z>.*?)px").exec(s))&&(i=s[1],e=s[2],s=s[3],i=Number(i)-t,this.hotspotBackground.style.transform=`translate(-19%, -30%) translate3d(${i}px, ${e}px, ${s}px)`)}handleDeviceStateChange({state:t}){t<c().deviceState.MEDIUM?(this.setBackgroundWidthAndHeight(),this.createDraggableInstance(),this.centerMapPosition(),this.hotspots.forEach(t=>{var e=JSON.parse(t.dataset.item)["offset"];this.setHotspotsOffset(t,e)})):(this.draggableInstance&&(this.draggableInstance[0].kill(),l.TweenLite.set(this.hotspotBackground,{clearProps:"x,y"})),this.hotspotBackground&&(this.hotspotBackground.style.width="100%",this.hotspotBackground.style.height="100%"),this.isMagnaMap&&this.isModalOpen?this.hotspots.forEach(t=>{var e=null==(e=JSON.parse(t.dataset.item))?void 0:e.offset;e&&this.setHotspotsOffset(t,{x:e.transitionX,y:e.transitionY})}):this.hotspots.forEach(t=>{var e=null==(e=JSON.parse(t.dataset.item))?void 0:e.offset;e&&this.setHotspotsOffset(t,e)}))}setHotspotsOffset(t,e){t.style.top=e.y+"%",t.style.left=e.x+"%"}updateMap(t){const e=t.hotspots;this.hotspots.forEach(t=>{t.classList.toggle(p.b.HIDDEN,!e.includes(t))})}hideContent(){var t;this.hotspots.forEach(t=>{t.classList.add(p.b.HIDDEN),t.classList.remove(p.b.ACTIVE)}),this.regionButtons.forEach(t=>{t.classList.add(p.b.HIDDEN)}),null!=(t=this.discoverLocationsButton)&&t.classList.add(p.b.HIDDEN),this.tooltips.forEach(t=>t.classList.remove(p.b.OPEN)),null!=(t=this.sliderContainer)&&t.classList.add(p.b.DISABLED)}showContent(){var t;this.hotspots.forEach(t=>{t.classList.remove(p.b.HIDDEN)}),this.regionButtons.forEach(t=>{t.classList.remove(p.b.HIDDEN)}),null!=(t=this.discoverLocationsButton)&&t.classList.add(p.b.HIDDEN),this.tooltips.forEach(t=>t.classList.add(p.b.OPEN)),null!=(t=this.sliderContainer)&&t.classList.remove(p.b.DISABLED)}dispose(){this.imageSizeInterval&&window.clearInterval(this.imageSizeInterval)}};T(_,"displayName","o64-hotspot-map");let A=_},46839:(t,e,s)=>{s.d(e,{w:()=>a});var e=s(86562),o=Object.defineProperty,n=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s};const i=class i extends e.AbstractEvent{constructor(t,e,s,i,o){super(t,s,i,o),n(this,"hotspots",[]),this.hotspots=e}clone(){return new i(this.type,this.hotspots,this.bubbles,this.cancelable)}};n(i,"UPDATE_MAP","UPDATE_MAP");let a=i},72802:(t,e,s)=>{s.r(e),s.d(e,{default:()=>M});var i=s(10665),e=s(83694),o=s(95215);class n extends s(27988).Z{setupTransitionInTimeline(t,e,s){super.setupTransitionInTimeline(t,e,s)}setupTransitionOutTimeline(t,e,s){}setupLoopingAnimationTimeline(e,t,s){(0,o.h)()||t.icons.forEach(t=>{e.from(t,1.5,{autoAlpha:0}),e.to(t,1.5,{autoAlpha:0})})}}const a=n;var l=s(12919),r=s(97554),h=s(33453),p=s(4156),d=s(49490),c=s(3642),u=s(80863),m=s(65683),v=s(37629),g=s(27404),y=s.n(g),b=Object.defineProperty,E=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s};class M extends e.Z{constructor(t){super(t),E(this,"button",this.getElement(`[data-component="${l.Z.displayName}"`)),E(this,"icons",this.getElements(`[data-component="${h.Z.displayName}"`)),E(this,"itinerariesViewer",null),E(this,"stopExploringButton",null),E(this,"exploreIcon",null),E(this,"isMobile",v.Z.currentDeviceState.state<y().deviceState.MEDIUM),E(this,"isTablet",v.Z.currentDeviceState.state<=y().deviceState.LARGE),E(this,"o64HotspotMap",document&&document.querySelector(`[data-component="${m.default.displayName}"]`)),E(this,"hotspotsContainer",this.o64HotspotMap&&this.o64HotspotMap.querySelector("[data-hotspot-container]")),E(this,"transitionController"),this.transitionController=new a(this)}addEventListeners(){var t;this.startLoopingAnimation(),null!=(t=this.button)&&t.addEventListener("click",()=>{var t;null!=(t=this.itinerariesViewer)&&t.classList.add(d.b.ACTIVE),null!=(t=this.stopExploringButton)&&t.classList.add(d.b.VISIBLE),null!=(t=this.exploreIcon)&&t.classList.add(d.b.VISIBLE),i.TweenMax.to(this.element,.5,{autoAlpha:0,eases:r.Z.VinnieInOut}),this.isMobile&&null!=(t=this.element.parentElement)&&t.classList.add(d.b.ACTIVE),"shushah"===this.element.dataset.mapvariant&&this.isTablet&&null!=(t=this.element.parentElement)&&t.classList.add(d.b.ACTIVE),this.element.scrollIntoView({block:"center"}),this.dispatcher.dispatchEvent(new u.W(u.W.SHOW_INSTRUCTIONS))}),this.stopExploringButton&&this.addDisposableEventListener(this.stopExploringButton,"click",this.showInstructions.bind(this))}showInstructions(){var t;this.hotspotsContainer&&this.element.classList.contains("b-hotspotMap-magna")&&(this.hotspotsContainer.classList.add(d.b.HIDDEN),this.hotspotsContainer.classList.remove(d.b.ACTIVE)),null!=(t=this.stopExploringButton)&&t.classList.remove(d.b.VISIBLE),null!=(t=this.exploreIcon)&&t.classList.remove(d.b.VISIBLE),this.isMobile&&null!=(t=this.element.parentElement)&&t.classList.remove(d.b.ACTIVE),"shushah"===this.element.dataset.mapvariant&&this.isTablet&&null!=(t=this.element.parentElement)&&t.classList.remove(d.b.ACTIVE),i.TweenMax.to(this.element,.5,{autoAlpha:1,eases:r.Z.VinnieInOut}),null!=(t=null==(t=null==(t=this.element)?void 0:t.parentElement)?void 0:t.classList)&&t.contains("-sindalah")&&this.element.scrollIntoView({block:"end"})}adopted(){return t=this,a=null,l=function*(){var t;window.location.href.includes("viewMode=story")||(t=yield(0,c.n)(),this.itinerariesViewer=t.getElement(`[data-component="${p.default.displayName}"`),this.stopExploringButton=t.getElement("[data-stop-exploring-button]"),this.exploreIcon=t.getElement("[data-explore-map-btn]")),this.addEventListeners()},new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});var t,a,l}}E(M,"displayName","o65-mobile-instructions")},80863:(t,e,s)=>{s.d(e,{W:()=>a});var i,o,e=s(86562),s=Object.defineProperty;const n=class n extends e.AbstractEvent{constructor(t,e,s,i){super(t,e,s,i)}clone(){return new n(this.type,this.bubbles,this.cancelable)}};e=n,o=i="SHOW_INSTRUCTIONS",(i="symbol"!=typeof i?i+"":i)in(e=e)?s(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o;let a=n},4156:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});var e=s(91344),i=s(12919),o=s(3642),n=s(78162),a=s(76528),l=s(37629),r=s(27404),h=s.n(r),p=s(10732),d=s(91786),c=s(49490),u=Object.defineProperty,m=(t,e,s)=>{var i;return i=s,(e="symbol"!=typeof e?e+"":e)in(t=t)?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s},v=(t,a,l)=>new Promise((e,s)=>{var i=t=>{try{n(l.next(t))}catch(t){s(t)}},o=t=>{try{n(l.throw(t))}catch(t){s(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);n((l=l.apply(t,a)).next())});const g={[n.R.Itineraries]:()=>s.e("src_app_component_organism_o68-modal-list-content_o68-modal-list-content_hbs_include").then(s.t.bind(s,10166,23)),[n.R.GroupedHotspots]:()=>s.e("src_app_component_organism_o68-modal-list-content_o68-modal-list-content_hbs_include").then(s.t.bind(s,10166,23))};class y extends e.Z{constructor(t){super(t),m(this,"openModalButton",this.getElement(`[data-component="${i.Z.displayName}"]`)),m(this,"app",null),m(this,"dataModalListItems",this.element.dataset.modalProps&&JSON.parse(this.element.dataset.modalProps)),this.onDeviceStateChange(l.Z.currentDeviceState),this.addDisposableEventListener(l.Z,p.M_.STATE_UPDATE,t=>this.onDeviceStateChange(t.data))}adopted(){return v(this,null,function*(){this.app=yield(0,o.n)(),this.openModalButton&&this.addDisposableEventListener(this.openModalButton,"click",t=>v(this,null,function*(){if(!this.dataModalListItems)throw new Error("Not able to get props data");var t,e,s=this.dataModalListItems.type;s!==n.R.GroupedHotspots&&s!==n.R.Itineraries||(s===n.R.Itineraries&&(t=null==(t=this.app)?void 0:t.getElement(`[data-component='${a.default.displayName}']`))&&t.scrollIntoView({behavior:"smooth"}),t=yield(0,g[s])(),s=this.dataModalListItems,yield null==(e=yield null==(e=this.app)?void 0:e.overlay)?void 0:e.dispatchAction({type:d.zr.STANDARD_DYNAMIC,payload:{template:t.default,data:s,options:{classnames:["-fullBleedCarousel"]}}}))}))})}onDeviceStateChange({state:t}){t<=h().deviceState.SMALL?null!=(t=this.openModalButton)&&t.classList.contains(c.G.WHITE)||(null!=(t=this.openModalButton)&&t.classList.add(c.G.WHITE),null!=(t=this.openModalButton)&&t.classList.remove(c.G.DARKGOLD)):null!=(t=this.openModalButton)&&t.classList.contains(c.G.DARKGOLD)||(null!=(t=this.openModalButton)&&t.classList.add(c.G.DARKGOLD),null!=(t=this.openModalButton)&&t.classList.remove(c.G.WHITE))}}m(y,"displayName","o67-modal-list-viewer")},78162:(t,e,s)=>{s.d(e,{R:()=>i});var i=(t=>(t.Itineraries="itineraries",t.GroupedHotspots="groupedHotspots",t))(i||{})},77015:(t,e,s)=>{s.d(e,{e:()=>function(){var t=document.querySelector(`[data-component="${o.default.displayName}"]`);return t?(0,i.fR)(t):null}});var i=s(69106),o=s(75180)},40573:(t,e,s)=>{s.d(e,{T:()=>n});var i=s(44545),o=s(91055);const n=t=>{return e=o.s.Escape,s=t,(0,i.O)(document,"keydown",t=>{(Array.isArray(e)?e.includes(t.key):t.key===e)&&s(t)});var e,s}},87600:(t,e,s)=>{s.d(e,{S:()=>function(t,e=document.activeElement){i(!0);t=t.querySelector('[href], button:not([disabled]), input:not([disabled]):not([type="hidden"]), textarea:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"], audio[controls], video[controls], [contenteditable], iframe, object, embed, summary)');return t.focus(),{removeFocus:()=>{i(!1),null!=e&&e.focus()}}}});var a=s(98485),l=s(57504),r=s(75180),h=s(83307),p=s(21730);function i(t){document.querySelector("[data-component=app-root] main");var e=document.querySelector(`[data-component="${r.default.displayName}]`),s=document.querySelector(`[data-component="${p.default.displayName}"]`),i=document.querySelector(`[data-component="${h.default.displayName}"]`),o=document.querySelector(`[data-component="${a.default.displayName}"]`),n=document.querySelector(`[data-component="${l.Z.displayName}"]`);null!=o&&o.removeAttribute("inert"),null!=e&&e.toggleAttribute("inert",t),null!=s&&s.toggleAttribute("inert",t),null!=i&&i.toggleAttribute("inert",t),null!=n&&n.toggleAttribute("inert",t)}}}]);