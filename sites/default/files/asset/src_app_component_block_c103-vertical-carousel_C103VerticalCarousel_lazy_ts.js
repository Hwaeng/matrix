"use strict";(self.webpackChunkneom=self.webpackChunkneom||[]).push([["src_app_component_block_c103-vertical-carousel_C103VerticalCarousel_lazy_ts"],{66681:(t,e,i)=>{i.r(e),i.d(e,{default:()=>T});var o=i(10665),s=i(6314),n=i(10732),e=i(83694),a=i(95215);class l extends i(27988).Z{setupTransitionInTimeline(t,e,i){super.setupTransitionInTimeline(t,e,i)}setupTransitionOutTimeline(t,e,i){}setupLoopingAnimationTimeline(t,e,i){e.scrollLabelIcon&&!(0,a.h)()&&t.to(e.scrollLabelIcon,1,{y:5,ease:o.Power1.easeInOut}).to(e.scrollLabelIcon,2,{y:0,ease:o.Power1.easeInOut})}}const r=l;var h,c=i(54168),d=i(45473),u=i(34221),m=i(49490),g=i(97554),p=i(37629),v=i(27404),I=i.n(v),b=i(3642),w=i(33453),S=i(17860),E=i(82266),f=i(63845),x=i(95186),C=i(52997),L=i(27364),P=Object.defineProperty,k=(t,e,i)=>{var s;return s=i,(e="symbol"!=typeof e?e+"":e)in(t=t)?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,i},y=(t,o,l)=>new Promise((e,i)=>{var s=t=>{try{a(l.next(t))}catch(t){i(t)}},n=t=>{try{a(l.throw(t))}catch(t){i(t)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(s,n);a((l=l.apply(t,o)).next())});const A=class A extends e.Z{constructor(t){super(t),k(this,"transitionController"),k(this,"wrapper",this.getElement("[data-wrapper]")),k(this,"container",this.getElement("[data-container]")),k(this,"slider",this.getElement("[data-container]")),k(this,"slides",this.getElements(".swiper-slide")),k(this,"pagination",this.getElement("[data-slider-pagination]")),k(this,"swiperSlider"),k(this,"imageList",this.getElement("[data-image-list]")),k(this,"imageItems",this.getElements("[data-image-item]")),k(this,"contentItems",this.getElements("[data-content-item]")),k(this,"eyebrow",this.getElement(`[data-component=${S.Z.displayName}]`)),k(this,"scrollLabelIcon",this.getElement(`[data-scroll-label] > [data-component=${w.Z.displayName}]`)),k(this,"previousButton",this.getElement("[data-previous-button]")),k(this,"nextButton",this.getElement("[data-next-button]")),k(this,"sliderControls",this.getElement("[data-controls]")),k(this,"pageIndicators",this.getElements("[data-page-indicator]")),k(this,"currentPageElements",this.getElements("[data-current-page]")),k(this,"totalPagesElements",this.getElements("[data-total-pages]")),k(this,"navigationHeight",0),k(this,"_activeIndex",0),k(this,"scrollHijackController",null),k(this,"app",null),k(this,"isMobile",p.Z.currentDeviceState.state<I().deviceState.LARGE_LANDSCAPE),k(this,"isScrollHijackInitialised",!1),k(this,"shouldPinSliderBelowNavBar",!1),k(this,"interactionSource","button"),k(this,"isProgrammaticUpdate",!1),k(this,"debounceTimeout",null),k(this,"buttonClicked",!1),k(this,"scrollHappened",!1),k(this,"isRedesigned",null==(h=null==(h=null==this?void 0:this.element)?void 0:h.classList)?void 0:h.contains("b-verticalCarousel__redesigned")),this.transitionController=new r(this),null!=(t=this.previousButton)&&t.addEventListener("click",this.onPreviousButtonClick.bind(this)),null!=(t=this.nextButton)&&t.addEventListener("click",this.onNextButtonClick.bind(this)),this.isRedesigned&&this.updateIsMobile()}triggerResponsiveLogic(){this.onDeviceStateChangeNew(p.Z.currentDeviceState)}onDeviceStateChangeNew({state:t}){this.isMobile=t<I().deviceState.LARGE_LANDSCAPE,this.disposables.add((0,s.iK)(()=>this.moveImageList(this.activeIndex,!0),200)),this.swiperSlider&&this.slides.length&&(t>I().deviceState.MEDIUM&&this.slides.length<=2?(this.swiperSlider.allowTouchMove=!1,this.swiperSlider.activeIndex=0):this.swiperSlider.allowTouchMove=!0)}addEventListeners(){this.addDisposableEventListener(p.Z,n.M_.STATE_UPDATE,t=>this.onDeviceStateChange(t.data))}adopted(){return y(this,null,function*(){var t;this.app=yield(0,b.n)(),this.navigationHeight=(yield null==(t=this.app)?void 0:t.getNavigationHeight())||0,this.shouldPinSliderBelowNavBar=this.isMobile&&this.sliderContentFitsOnViewPort,this.isRedesigned?this.isMobile?(t=this.getElement("[data-content-list]"),this.container&&this.imageList&&t&&(this.container.style.height=this.imageList.offsetHeight+t.offsetHeight+82+"px",768<=window.innerWidth)&&(this.container.style.height=this.imageList.offsetHeight+t.offsetHeight+113+"px"),this.initSlider(),this.addEventListeners(),this.triggerResponsiveLogic()):1!==this.contentItems.length&&(yield this.initScrollHijack()):yield this.initScrollHijack(),this.activeIndex=0,this.addDisposableEventListener(p.Z,n.M_.STATE_UPDATE,t=>this.onDeviceStateChange(t.data)),this.transitionController.startLoopingAnimation(),(0,c.o)(this.element),this.updateTotalPages(),null!=window&&window.addEventListener("scroll",()=>{this.buttonClicked=!1,this.scrollHappened=!0}),1===this.contentItems.length&&null!=(t=this.sliderControls)&&t.classList.add("-isDisabled")})}enterView(){super.enterView(),this.trackVisibleSlides()}trackVisibleSlides(){(0,L.Z)({componentId:this.componentId,componentName:this.displayName,slides:this.slides,titleSelectorName:".m-personCard__name"})}initSlider(){var t;this.slider&&(f.Z.use([x.Z,C.Z]),t=p.Z.currentDeviceState<I().deviceState.LARGE,this.swiperSlider=new f.Z(this.slider,{threshold:t?0:2,direction:"horizontal",loop:!1,slidesPerView:"auto",watchSlidesVisibility:!0,slideVisibleClass:m.b.VISIBLE,navigation:{disabledClass:m.b.DISABLED,nextEl:this.nextButton,prevEl:this.previousButton},pagination:{el:this.pagination,dynamicBullets:!0,dynamicMainBullets:4},on:{slideChange:()=>{this.trackVisibleSlides(),this.updateActiveSlide(),this.updatePageNumberIndicator()}}}))}updateActiveSlide(){const i=(null==(t=this.swiperSlider)?void 0:t.activeIndex)||0;this.contentItems.forEach((t,e)=>{e===i?t.classList.add(m.b.ACTIVE):t.classList.remove(m.b.ACTIVE)}),this.imageItems.forEach((t,e)=>{e===i?t.classList.add(m.b.ACTIVE):t.classList.remove(m.b.ACTIVE)});var t=null==(t=this.app)?void 0:t.element.lang,e=this.getElement("[data-content-list]");e&&("ar"===t?(t=100*i,e.style.transform=`translate3d(${t}%,0px,0px)`):(t=100*-i,e.style.transform=`translate3d(${t}%,0px,0px)`)),this._activeIndex=i}updateIsMobile(){var t=window.innerWidth<=1024&&window.innerHeight<1024;this.isMobile=p.Z.currentDeviceState.state<I().deviceState.LARGE_LANDSCAPE||t}get sliderContentFitsOnViewPort(){return this.sliderContentHeight<=window.innerHeight-this.navigationHeight}get sliderContentHeight(){var t;return((null==(t=this.eyebrow)?void 0:t.offsetHeight)||0)+(this.eyebrow?parseInt(window.getComputedStyle(this.eyebrow).marginBlockStart):0)+((null==(t=this.imageList)?void 0:t.offsetHeight)||0)+Math.max(...this.contentItems.map(t=>t.offsetHeight))+(this.container?parseInt(window.getComputedStyle(this.container).paddingBlockStart)+parseInt(window.getComputedStyle(this.container).paddingBlockEnd):0)}onDeviceStateChange({state:t}){this.isMobile=t<I().deviceState.LARGE_LANDSCAPE,this.disposables.add((0,s.iK)(()=>this.moveImageList(this.activeIndex,!0),200))}get items(){return this.contentItems.map((t,e)=>({content:t,image:this.imageItems[e]}))}initScrollHijack(){return y(this,null,function*(){(0,a.h)()||(this.wrapper&&o.TweenMax.set(this.wrapper,{height:100*this.contentItems.length+"vh"}),this.scrollHijackController=yield new d.Z({parentElement:this.element,onScrollBeforeInView:({scrollPosition:t})=>{this.container&&(this.shouldPinSliderBelowNavBar&&this.navigationHeight&&t>-this.navigationHeight?o.TweenMax.set(this.container,{position:"fixed",top:this.navigationHeight,bottom:"initial"}):o.TweenMax.set(this.container,{position:"absolute",top:0,bottom:"initial"}))},onScrollInView:()=>{this.container&&o.TweenMax.set(this.container,{position:"fixed",top:this.shouldPinSliderBelowNavBar?this.navigationHeight:0,bottom:"initial"})},onScrollAfterInView:()=>{this.container&&o.TweenMax.set(this.container,{position:"absolute",bottom:this.shouldPinSliderBelowNavBar?-this.navigationHeight:0,top:"initial"})},onScroll:({progress:t})=>{var e;this.isRedesigned?("scroll"===this.interactionSource&&(e=(0,u.u)(Math.round(t/(1/(this.contentItems.length-1))),0,this.contentItems.length-1))!==this._activeIndex&&!this.buttonClicked&&this.scrollHappened&&(this.activeIndex=e),this.activeIndex===this.contentItems.length-1?null!=(e=this.nextButton)&&e.setAttribute("disabled","true"):null!=(e=this.nextButton)&&e.removeAttribute("disabled"),0===this.activeIndex?null!=(e=this.previousButton)&&e.setAttribute("disabled","true"):null!=(e=this.previousButton)&&e.removeAttribute("disabled")):(e=(0,u.u)(Math.round(t/(1/(this.contentItems.length-1))),0,this.contentItems.length-1))!==this.activeIndex&&(this.activeIndex=e),this.disposables.add((0,s.iK)(()=>{this.isScrollHijackInitialised=!0},200))}}).initScrollHijack())})}set activeIndex(s){A.itemDictionary.forEach(i=>this.items.forEach((t,e)=>t[i].classList.toggle(m.b.ACTIVE,e===s))),this.isRedesigned?this.moveImageList(s,!0):this.moveImageList(s,!this.isScrollHijackInitialised),this._activeIndex=s,this.isProgrammaticUpdate||(this.interactionSource="scroll"),this.isProgrammaticUpdate=!1,this.updatePageNumberIndicator()}get activeIndex(){return this._activeIndex}moveImageList(t,e=!1){e=e?0:1;this.isMobile?this.moveImageListOnMobile(t,e):this.moveImageListOnDesktop(t,e)}moveImageListOnMobile(t,e=1){if(!this.imageList)throw new Error("No image list element found");if(!this.isMobile)throw new Error("Cannot call this function outside a mobile environment");var i=(0,E.t6)()?1:-1;o.TweenMax.to(this.imageList,e,{x:this.imageItems[t].clientWidth*t*i,ease:g.Z.VinnieInOut}),A.resetImagePosition(this.imageItems)}static resetImagePosition(t){o.TweenMax.set(t,{clearProps:"all"})}moveImageListOnDesktop(i,s=1){var t;if(!this.imageList)throw new Error("No image list element found");if(this.isMobile)throw new Error("Cannot call this function outside a desktop environment");A.resetImagePosition(this.imageList);const n=(null!=(t=null==(t=this.container)?void 0:t.clientWidth)?t:0)-2*parseFloat(null!=(t=null==(t=this.container&&getComputedStyle(this.container))?void 0:t.paddingInlineStart)?t:"0px");this.isRedesigned||this.imageItems.forEach((t,e)=>{e===i?A.moveImageInView(t,s):A.moveImageOutOfView(t,{indexOffset:Math.abs(i-e),isAfterActive:i<e,innerContainerWidth:n},s)})}static moveImageInView(t,e=1){o.TweenMax.to(t,e,{x:0,y:0,autoAlpha:1,clearProps:"all",ease:g.Z.VinnieInOut})}static moveImageOutOfView(t,e,i=1){var{innerContainerWidth:e=0,indexOffset:s=1,isAfterActive:n=!1}=null!=e?e:{},a=(0,E.t6)()?-1:1,n=n?1:-1;o.TweenMax.to(t,i,{x:(e-t.clientWidth-80)*a*s,y:Math.max(window.innerHeight-350,t.clientHeight+50)*n*s,ease:g.Z.VinnieInOut})}onPreviousButtonClick(){0<this.activeIndex&&(this.interactionSource="button",this.isProgrammaticUpdate=!0,--this.activeIndex,this.buttonClicked=!0,clearTimeout(this.debounceTimeout),this.debounceTimeout=(0,s.iK)(()=>{this.interactionSource="scroll"},200))}onNextButtonClick(){this.activeIndex<this.contentItems.length-1&&(this.interactionSource="button",this.isProgrammaticUpdate=!0,this.activeIndex+=1,this.buttonClicked=!0,clearTimeout(this.debounceTimeout),this.debounceTimeout=(0,s.iK)(()=>{this.interactionSource="scroll"},200))}updateTotalPages(){this.totalPagesElements.forEach(t=>{t.textContent=this.formatPageNumber(this.contentItems.length)})}updatePageNumberIndicator(){this.currentPageElements.forEach((t,e)=>{var i=null==(i=t.parentElement)?void 0:i.querySelector(".is-active");i&&i.classList.remove("is-active"),t.textContent=this.formatPageNumber(this.activeIndex+1),t.classList.add("is-active")})}formatPageNumber(t){return t<10?"0"+t:""+t}dispose(){var t;super.dispose(),null!=(t=this.scrollHijackController)&&t.dispose()}};k(A,"displayName","c103-vertical-carousel"),k(A,"itemDictionary",["image","content"]);let T=A},45473:(t,e,i)=>{i.d(e,{Z:()=>r});var s=i(95215),n=i(27721),e=i(74450),o=i.n(e),a=Object.defineProperty,l=(t,e,i)=>{var s;return s=i,(e="symbol"!=typeof e?e+"":e)in(t=t)?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,i};class r{constructor(t){l(this,"parentElement"),l(this,"callbacks"),l(this,"isActive",!0),l(this,"animationFrameReference",0),l(this,"scrollStatus",{scrollPosition:0,progress:0}),this.parentElement=t.parentElement,this.callbacks=(0,n.Z)(t,"parentElement")}initScrollHijack(){return t=this,o=null,l=function*(){if((0,s.h)())throw new Error("Scroll hijacking is not possible in editor mode");return this.tick(),this},new Promise((e,i)=>{var s=t=>{try{a(l.next(t))}catch(t){i(t)}},n=t=>{try{a(l.throw(t))}catch(t){i(t)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(s,n);a((l=l.apply(t,o)).next())});var t,o,l}tick(){if(!this.isActive)return this.tick();var t=scrollY-this.parentElement.offsetTop,e=t/(this.parentElement.clientHeight-window.innerHeight),{onScroll:i,onScrollBeforeInView:s,onScrollInView:n,onScrollAfterInView:a}=this.callbacks;this.scrollStatus={scrollPosition:o()(this.scrollStatus.scrollPosition,t,.8),progress:o()(this.scrollStatus.progress,e,.8)},null!=i&&i(this.scrollStatus),this.scrollStatus.progress<0?null!=s&&s(this.scrollStatus):0<=this.scrollStatus.progress&&this.scrollStatus.progress<=1?null!=n&&n(this.scrollStatus):1<this.scrollStatus.progress&&null!=a&&a(this.scrollStatus),this.animationFrameReference=requestAnimationFrame(this.tick.bind(this))}dispose(){cancelAnimationFrame(this.animationFrameReference)}}},34221:(t,e,i)=>{i.d(e,{u:()=>s});const s=(t,e,i)=>Math.min(Math.max(t,e),i)}}]);