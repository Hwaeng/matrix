"use strict";(self.webpackChunkneom=self.webpackChunkneom||[]).push([["src_app_component_block_c125-sectors-v3_C125SectorsV3_lazy_ts","src_app_component_block_s10-map-overlay_S10MapOverlay_lazyOverlay_ts"],{398:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var t=a(80274),s=a(27988),o=a(11231),n=a(97554),r=a(46187);class i extends s.Z{setupTransitionInTimeline(e,t,s){super.setupTransitionInTimeline(e,t,s);var s=t.getElement(`[data-component="${o.Z.displayName}"]`),i=t.getElement(`[data-component="${r.Z.displayName}"]`),t=t.getElements("[data-sector]");e.staggerFromTo(t.filter(e=>null!==e),.6,{y:150,autoAlpha:0},{y:0,autoAlpha:1,ease:n.Z.VinnieInOut,clearProps:"y,opacity,visibility",stagger:{amount:.6}},0),i&&e.fromTo(i,.6,{y:150,autoAlpha:0},{y:0,autoAlpha:1,ease:n.Z.VinnieInOut,clearProps:"y,opacity,visibility"},0),s&&e.add(this.getTimeline(s),0)}setupTransitionOutTimeline(e,t,s){}setupLoopingAnimationTimeline(e,t,s){}}const l=i;var c,h=a(49490),d=a(3642),m=a(37629),p=a(10732),s=a(27404),u=a.n(s),v=a(91786),y=a(54168),g=a(5708),b=a(54081),I=a(27031),E=Object.defineProperty,C=(e,t,s)=>{var i;return i=s,(t="symbol"!=typeof t?t+"":t)in(e=e)?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,s},S=(e,a,r)=>new Promise((t,s)=>{var i=e=>{try{n(r.next(e))}catch(e){s(e)}},o=e=>{try{n(r.throw(e))}catch(e){s(e)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,o);n((r=r.apply(e,a)).next())});class _ extends t.Z{constructor(e){super(e),C(this,"transitionController"),C(this,"sectorItems",this.getComponents(g.Z.displayName)),C(this,"sectorPlaceholders",this.getElements("[data-sector-placeholder]")),C(this,"sectorBackgrounds",this.getElements("[data-background]")),C(this,"sectorCircles",this.getElements("[data-sector-circle]")),C(this,"sectorSelect",this.getElement("[data-select]")),C(this,"chevronIcon",this.getElement("[data-chevron]")),C(this,"staticImage",this.getElement("[static-image]")),C(this,"modalImage",this.getElement("[modal-container]")),C(this,"activeIndex",1),C(this,"isModalOpen",!1),C(this,"isMobile",!1),C(this,"app",null),C(this,"resetActiveStateTimeoutId",null),C(this,"sectorData",JSON.parse(this.element.dataset.items)),C(this,"items"),C(this,"S10MapOverlayElement",document&&document.querySelector(`[data-component="${b.default.displayName}"]`)),C(this,"theme",null==(c=null==(c=null==this?void 0:this.element)?void 0:c.dataset)?void 0:c.theme),C(this,"sectorsBtnContainer",this.getElement(".sectors-button-container")),this.transitionController=new l(this),this.handleDeviceStateChange(m.Z.currentDeviceState),this.addDisposableEventListener(m.Z,p.M_.STATE_UPDATE,e=>this.handleDeviceStateChange(e.data)),this.items=this.sectorData.flatMap((t,s)=>{return(Array.isArray(t.content)?t.content:[t.content]).map(e=>({content:e,sectorIndex:s,moustacheText:t.regionId}))}),this.sectorData.forEach(e=>{e=document.getElementById(e.value);e&&(e.style.display="none")}),this.sectorSelect&&(this.sectorSelect.addEventListener("mousedown",this.toggleChevronRotation.bind(this)),this.sectorSelect.addEventListener("focus",this.toggleChevronRotation.bind(this)),this.sectorSelect.addEventListener("blur",this.toggleChevronRotation.bind(this)),this.sectorSelect.addEventListener("change",this.handleDropdownSelection.bind(this))),this.addEventListeners()}handleDropdownSelection(e){this.chevronIcon&&(this.chevronIcon.style.transform="rotate(0deg)")}toggleChevronRotation(e){e="focus"===e.type||"mousedown"===e.type;this.chevronIcon&&(this.chevronIcon.style.transform=e?"rotate(180deg)":"rotate(0deg)")}handleDeviceStateChange({state:e}){e>u().deviceState.SMALL?this.isMobile=!1:this.isMobile=!0}addEventListeners(){var e;this.sectorCircles.forEach((t,s)=>{t&&(this.isMobile||this.addDisposableEventListener(t,"mouseenter",()=>{t.classList.contains("-isCurrent")||this.onSectorMouseEnter(s)}),this.addDisposableEventListener(t,"click",e=>{e.preventDefault(),t.classList.contains("-isCurrent")||this.onSectorClick(s)}),this.addDisposableEventListener(t,"mouseleave",this.onSectorMouseLeave.bind(this)))}),this.isMobile&&null!=(e=this.sectorSelect)&&e.addEventListener("change",e=>{var t;this.sectorData.forEach(e=>{e=document.getElementById(e.value);e&&(e.style.display="none")}),this.staticImage&&(""==(null==(t=e.target)?void 0:t.value)?this.staticImage.style.display="block":(this.staticImage.style.display="none",(e=document.getElementById(null==(t=e.target)?void 0:t.value))&&(e.style.display="block")))})}adopted(){return S(this,null,function*(){var e;(0,y.o)(this.element),this.app=yield(0,d.n)(),this.addDisposableEventListener(null==(e=this.app)?void 0:e.element,"overlayAction",e=>{var t=e.detail.type;const s=null==(e=e.detail.params)?void 0:e.currentIndex;"CLOSE_MODAL"!=t&&this.sectorCircles.forEach((e,t)=>{e.classList.remove(h.b.ACTIVE),t===s&&this.sectorCircles[t].classList.add(h.b.ACTIVE)}),t===v.zr.CLOSE&&(this.isModalOpen=!1,this.modalImage&&(this.modalImage.style.display="block"),this.resetSectorItem(),this.sectorCircles.forEach((e,t)=>{e.classList.remove(h.b.ACTIVE)}),null!=(e=this.sectorsBtnContainer))&&e.style.removeProperty("width")})})}onSectorMouseEnter(e){this.resetActiveStateTimeoutId&&(clearTimeout(this.resetActiveStateTimeoutId),this.resetActiveStateTimeoutId=null,this.resetSectorItem()),this.element.classList.add(h.b.ACTIVE),this.updateBackgroundImage(e)}onSectorClick(n){return S(this,null,function*(){var e=(0,I.Z)();this.sectorData[n].content;if(this.isModalOpen=!0,null===this.app)throw new Error("App was not found");var t={activeItemIndex:n,variant:"fullBleedCarousel",highlightHotspots:!0,items:this.items,mapVariant:"sectors",icon:null==(t=this.sectorData[n])?void 0:t.icon},[s,i]=yield Promise.all([Promise.all([a.e("src_app_component_organism_o01-video_o01-video_hbs_include"),a.e("src_app_component_atom_a03-heading_a03-heading_hbs_include-src_app_component_atom_a04-eyebrow-50c0de"),a.e("src_app_component_organism_o107-map-modal-carousel-content_o107-map-modal-carousel-content_hb-9f4f1b")]).then(a.t.bind(a,64741,23)),null==(s=this.app)?void 0:s.mapOverlay]),o=this.theme?"-"+this.theme:"-t-light";yield null==i?void 0:i.dispatchAction({type:v.zr.STANDARD_DYNAMIC,payload:{template:s.default,data:t,options:{classnames:["-fullBleedCarousel","sectors-modal"+o]}}}),this.S10MapOverlayElement&&(this.S10MapOverlayElement.style.display="block",0!=e)&&this.sectorsBtnContainer&&this.sectorsBtnContainer.style.setProperty("width",`${null==(i=this.sectorsBtnContainer)?void 0:i.getBoundingClientRect().width}px`)})}onSectorMouseLeave(){this.isModalOpen||(this.resetActiveStateTimeoutId=setTimeout(this.resetSectorItem.bind(this),150))}resetSectorItem(){this.element.classList.remove(h.b.ACTIVE);var e=this.sectorBackgrounds[this.activeIndex];e&&e.classList.remove(h.b.ACTIVE),this.sectorPlaceholders.forEach(e=>{e.classList.remove(h.b.DISABLED)})}updateBackgroundImage(e){var t=this.sectorBackgrounds[this.activeIndex],s=this.sectorBackgrounds[e];t&&t.classList.remove(h.b.ACTIVE),s&&s.classList.add(h.b.ACTIVE),this.activeIndex=e}}C(_,"displayName","c125-sectors-v3")},54081:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});t=s(83694);class i extends s(27988).Z{setupTransitionInTimeline(e,t,s){super.setupTransitionInTimeline(e,t,s)}setupTransitionOutTimeline(e,t,s){}setupLoopingAnimationTimeline(e,t,s){}}const o=i;var n=s(3642),a=s(54168),r=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(e,t,s)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(e,t,s)=>(p(e,"symbol"!=typeof t?t+"":t,s),s),v=(e,a,r)=>new Promise((t,s)=>{var i=e=>{try{n(r.next(e))}catch(e){s(e)}},o=e=>{try{n(r.throw(e))}catch(e){s(e)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,o);n((r=r.apply(e,a)).next())});class y extends t.Z{constructor(e){super(e),u(this,"transitionController"),u(this,"actionInProgress",!1),u(this,"dispatchAction",(s,i)=>v(this,null,function*(){var e,t;this.actionInProgress||(this.actionInProgress=!0,e=new CustomEvent("overlayAction",{detail:(e=((e,t)=>{for(var s in t=t||{})d.call(t,s)&&p(e,s,t[s]);if(h)for(var s of h(t))m.call(t,s)&&p(e,s,t[s]);return e})({},s),l(e,c({params:i})))}),null!=(t=yield(0,n.n)())&&t.element.dispatchEvent(e),this.actionInProgress=!1)})),this.element.style.display="block",this.transitionController=new o(this)}adopted(){return v(this,null,function*(){(0,a.o)(this.element)})}debug(e){console.log("ACTION: ",e.type),"payload"in e&&console.log("PAYLOAD: ",e.payload)}}u(y,"displayName","s10-map-overlay")}}]);