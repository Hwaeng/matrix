"use strict";(self.webpackChunkneom=self.webpackChunkneom||[]).push([["src_app_component_organism_o01-video_O01Video_lazy_ts","src_app_component_organism_o01-video_component_atom_native-video_NativeVideo_lazy_ts","src_app_component_organism_o01-video_component_atom_youtube-video_YoutubeVideo_lazy_ts"],{95187:(e,t,i)=>{i.d(t,{Z:()=>r});var t=i(91344),n=i(25923),s=Object.defineProperty,l=(e,t,i)=>{var n;return n=i,(t="symbol"!=typeof t?t+"":t)in(e=e)?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i};class r extends t.Z{constructor(e){super(e),l(this,"video",null)}forwardEvent(t){return e=this,r=null,o=function*(){var e;null!=(e=this.video)&&e.dispatcher.dispatchEvent(new n.Z(t))},new Promise((t,i)=>{var n=e=>{try{l(o.next(e))}catch(e){i(e)}},s=e=>{try{l(o.throw(e))}catch(e){i(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,r)).next())});var e,r,o}adopted(){this.video=this.getClosestComponent("o01-video")}clearTimeupdateInterval(){}}},87120:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var t=i(91344),n=i(69106),s=i(15213),l=i(65154),r=i(25169),o=i(48317),a=i(36292),u=Object.defineProperty,d=(e,t,i)=>{var n;return n=i,(t="symbol"!=typeof t?t+"":t)in(e=e)?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i};class h extends t.Z{constructor(e){super(e),d(this,"player"),d(this,"props"),d(this,"videoControls",null),d(this,"closeButton",this.getElement(".js-close-button")),this.props=this.element.dataset.props?JSON.parse(this.element.dataset.props):{},this.player=this.getComponent(r.default.displayName)||this.getComponent(o.default.displayName),this.closeButton&&this.addDisposableEventListener(this.closeButton,"click",this.handleCloseButtonClick.bind(this)),document.addEventListener("fullscreenchange",this.handleFullscreenChange.bind(this)),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange.bind(this));e=this.element.querySelector(`[data-component="${a.default.displayName}"]`);this.videoControls=(0,n.fR)(e)}requestFullscreen(){return e=this,r=null,o=function*(){if(!(0,l.KR)())throw new Error("Unable to request fullscreen");(0,s.G6)()?this.element.webkitRequestFullscreen():yield(0,l.Zx)(this.element)},new Promise((t,i)=>{var n=e=>{try{l(o.next(e))}catch(e){i(e)}},s=e=>{try{l(o.throw(e))}catch(e){i(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,r)).next())});var e,r,o}handleCloseButtonClick(){this.player.pause(),(0,l.aP)()===this.element&&document.exitFullscreen()}handleFullscreenChange(){var e=(0,l.aP)();this.videoControls&&this.videoControls.toggleFullscreenButtons(null!==e)}}d(h,"displayName","o01-video")},25169:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var n,s=i(15213),t=i(95187),i=i(25923),l=Object.defineProperty,r=(e,r,o)=>new Promise((t,i)=>{var n=e=>{try{l(o.next(e))}catch(e){i(e)}},s=e=>{try{l(o.throw(e))}catch(e){i(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,r)).next())});const o={abort:i.Z.ABORT,canplay:i.Z.CANPLAY,canplaythrough:i.Z.CANPLAYTHROUGH,durationchange:i.Z.DURATIONCHANGE,emptied:i.Z.EMPTIED,ended:i.Z.ENDED,error:i.Z.ERROR,loadeddata:i.Z.LOADEDDATA,loadedmetadata:i.Z.LOADEDMETADATA,loadstart:i.Z.LOADSTART,pause:i.Z.PAUSE,play:i.Z.PLAY,playing:i.Z.PLAYING,progress:i.Z.PROGRESS,ratechange:i.Z.RATECHANGE,seeked:i.Z.SEEKED,seeking:i.Z.SEEKING,stalled:i.Z.STALLED,suspend:i.Z.SUSPEND,timeupdate:i.Z.TIMEUPDATE,volumechange:i.Z.VOLUMECHANGE,waiting:i.Z.WAITING};class a extends t.Z{constructor(e){super(e),Object.keys(o).forEach(e=>{this.addDisposableEventListener(this.element,e,this.forwardEvent.bind(this,o[e]))})}adopted(){if(super.adopted(),null==this.video)throw new Error("O01Video is empty");this.video.props.controls&&(0,s.U4)()&&this.element.removeAttribute("playsinline")}duration(){return r(this,null,function*(){return this.element.duration})}currentTime(){return r(this,null,function*(){return this.element.currentTime})}paused(){return r(this,null,function*(){return this.element.paused})}volume(){return r(this,null,function*(){return this.element.volume})}play(){return r(this,null,function*(){this.element.play()})}pause(){return r(this,null,function*(){this.element.pause()})}setCurrentTime(e){return r(this,null,function*(){this.element.currentTime=e})}setVolume(e){return r(this,null,function*(){this.element.volume=e})}}i=a,t="native-video",(n="symbol"!=typeof(n="displayName")?n+"":n)in(i=i)?l(i,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[n]=t},48317:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var t=i(11062),s=i.n(t),l=i(15213),t=i(95187),r=i(25923),o=Object.defineProperty,a=Object.getPrototypeOf,u=Reflect.get,n=(e,t,i)=>{var n;return n=i,(t="symbol"!=typeof t?t+"":t)in(e=e)?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i},d=(e,r,o)=>new Promise((t,i)=>{var n=e=>{try{l(o.next(e))}catch(e){i(e)}},s=e=>{try{l(o.throw(e))}catch(e){i(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,r)).next())});const h={"-1":r.Z.LOADSTART,[0]:r.Z.ENDED,1:r.Z.PLAYING,2:r.Z.PAUSE,3:r.Z.LOADSTART},c=class c extends t.Z{constructor(){super(...arguments),n(this,"youTubePlayer"),n(this,"timeUpdateInterval")}adopted(){return d(this,null,function*(){var e,t,i;e=c.prototype,t=this,i="adopted",u(a(e),i,t).call(this);let n=this.video;if(null==(n=null!=(null==(e=this.video)?void 0:e.props.props)?this.video.props:n))throw new Error("O01Video is empty");if(null==n.props.youtube)throw new Error("Empty video id");this.youTubePlayer=s()(this.element,{videoId:n.props.youtube,playerVars:{autoplay:0,loop:n.props.loop?1:0,controls:0,disablekb:1,playsinline:n.props.controls&&(0,l.U4)()?0:1,modestbranding:1,rel:0}},!0),n.props.autoplay&&this.youTubePlayer.playVideo(),n.props.muted?this.youTubePlayer.mute():this.youTubePlayer.unMute(),this.youTubePlayer.on("stateChange",this.onStateChange.bind(this)),this.youTubePlayer.on("ready",this.onReady.bind(this)),this.addDisposableEventListener(this.video.dispatcher,r.Z.PLAYING,this.onPlay.bind(this)),this.addDisposableEventListener(this.video.dispatcher,r.Z.PAUSE,this.clearTimeupdateInterval.bind(this))})}onPlay(){clearInterval(this.timeUpdateInterval),this.timeUpdateInterval=setInterval(()=>{var e;null!=(e=this.video)&&e.dispatcher.dispatchEvent(new r.Z(r.Z.TIMEUPDATE))},250)}clearTimeupdateInterval(){clearInterval(this.timeUpdateInterval)}duration(){return d(this,null,function*(){if(null!=this.youTubePlayer)return 1e3*(yield this.youTubePlayer.getDuration())})}currentTime(){return d(this,null,function*(){if(null!=this.youTubePlayer)return 1e3*(yield this.youTubePlayer.getCurrentTime())})}paused(){return d(this,null,function*(){var e;return 1!==(yield null==(e=this.youTubePlayer)?void 0:e.getPlayerState())})}volume(){return d(this,null,function*(){var e;return(yield null==(e=this.youTubePlayer)?void 0:e.isMuted())?0:null==(e=yield null==(e=this.youTubePlayer)?void 0:e.getVolume())?1:e/100})}play(){return d(this,null,function*(){var e;null!=(e=this.youTubePlayer)&&e.playVideo()})}pause(){return d(this,null,function*(){var e;null!=(e=this.youTubePlayer)&&e.pauseVideo()})}setCurrentTime(t){return d(this,null,function*(){var e;null!=(e=this.youTubePlayer)&&e.seekTo(t/1e3,!0)})}setVolume(t){return d(this,null,function*(){var e;return yield null==(e=this.youTubePlayer)?void 0:e.setVolume(100*t),new Promise(t=>{setTimeout(()=>{var e;null!=(e=this.video)&&e.dispatcher.dispatchEvent(new r.Z(r.Z.VOLUMECHANGE)),t()},100)})})}onStateChange(e){var t,e=h[e.data];e===r.Z.ENDED&&null!=(t=this.video)&&t.player.clearTimeupdateInterval(),e&&null!=(t=this.video)&&t.dispatcher.dispatchEvent(new r.Z(e))}onReady(){var e;null!=(e=this.video)&&e.dispatcher.dispatchEvent(new r.Z(r.Z.LOADEDMETADATA))}dispose(){var e;null!=(e=this.youTubePlayer)&&e.destroy()}};n(c,"displayName","youtube-video");let v=c},36292:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var t=i(91344),n=i(25923),l=i(8651),s=i(65154),r=i(15213),o=i(79697),a=i(32591),u=Object.defineProperty,d=(e,t,i)=>{var n;return n=i,(t="symbol"!=typeof t?t+"":t)in(e=e)?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i},h=(e,r,o)=>new Promise((t,i)=>{var n=e=>{try{l(o.next(e))}catch(e){i(e)}},s=e=>{try{l(o.throw(e))}catch(e){i(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,r)).next())});class c extends t.Z{constructor(e){super(e),d(this,"video",null),d(this,"videoProgress",null),d(this,"playButton",this.getElement("[data-video-play-button]")),d(this,"pauseButton",this.getElement("[data-video-pause-button]")),d(this,"muteButton",this.getElement("[data-video-mute-button]")),d(this,"unmuteButton",this.getElement("[data-video-unmute-button]")),d(this,"enterFullscreenButton",this.getElement("[data-video-enter-fullscreen-button]")),d(this,"exitFullscreenButton",this.getElement("[data-video-exit-fullscreen-button]")),d(this,"videoControlsBar",this.getElement("[data-video-controls-bar]")),d(this,"eventTrackingData",JSON.parse(this.element.dataset.eventTracking||"{}")),d(this,"videoId"),d(this,"playerProgressPercentTracking",{values:[25,50,75],start:!0,last:0}),this.addDisposableEventListener(this.element,"click",this.toggleVideoPlayback.bind(this))}setVideoId(e){this.videoId=e,console.log("VideoControls received video ID:",this.videoId)}adopted(){if(this.video=this.getClosestComponent("o01-video"),this.videoProgress=this.getComponent("progress-bar"),null==this.video)throw new Error("this.video is empty");if(null==this.videoProgress)throw new Error("this.videoProgress is empty");this.addDisposableEventListener(this.video.dispatcher,n.Z.PLAYING,this.handlePlaying.bind(this)),this.addDisposableEventListener(this.video.dispatcher,n.Z.PAUSE,this.handlePause.bind(this)),this.addDisposableEventListener(this.video.dispatcher,n.Z.TIMEUPDATE,this.onTimeUpdate.bind(this)),this.addDisposableEventListener(this.video.dispatcher,n.Z.LOADEDMETADATA,this.handleLoadedMetaData.bind(this)),this.addDisposableEventListener(this.video.dispatcher,n.Z.VOLUMECHANGE,this.handleVolumeChange.bind(this)),this.addDisposableEventListener(this.video.dispatcher,n.Z.ENDED,this.onEnd.bind(this)),this.playButton&&this.addDisposableEventListener(this.playButton,"click",this.handlePlayClick.bind(this)),this.pauseButton&&this.addDisposableEventListener(this.pauseButton,"click",this.handlePauseClick.bind(this)),this.muteButton&&this.addDisposableEventListener(this.muteButton,"click",this.handleMuteClick.bind(this)),this.unmuteButton&&this.addDisposableEventListener(this.unmuteButton,"click",this.handleUnmuteClick.bind(this)),this.enterFullscreenButton&&this.addDisposableEventListener(this.enterFullscreenButton,"click",this.handleFullscreenClick.bind(this)),this.exitFullscreenButton&&this.addDisposableEventListener(this.exitFullscreenButton,"click",this.handleFullscreenClick.bind(this)),this.toggleFullscreenButtons(!1),this.pauseButton&&(this.pauseButton.style.display="none"),this.handleVolumeChange()}toggleVideoPlayback(e){return h(this,null,function*(){if(null==this.video)throw new Error("Video is undefined");e.composedPath().includes(this.videoControlsBar)||((yield this.video.player.paused())?(this.video.player.play(),this.playerProgressPercentTracking.start||this.trackEvent(l.aK.VIDEO_START)):(this.video.player.pause(),this.trackEvent(l.aK.VIDEO_PAUSE)))})}onTimeUpdate(){return h(this,null,function*(){var e=this.playerProgressPercentTracking.start,t=this.playerProgressPercentTracking.last,e=(e&&(this.playerProgressPercentTracking.start=!1,this.trackEvent(l.aK.VIDEO_START)),yield(0,a.Tc)(null==this?void 0:this.video,this.playerProgressPercentTracking)),i=(0,a.rT)(null==this?void 0:this.video),n=(yield(0,a.Mf)(this.video),yield this.video.player.duration()),s=yield null==(s=this.video)?void 0:s.player.currentTime();e&&t!==e&&((0,o.Z)(this.eventTrackingData)||(0,l.ZP)({event:l.aK.VIDEO_PROGRESS,video_title:this.eventTrackingData.video.titleInEnglish,video_id:this.videoId,video_url:this.eventTrackingData.video.src,video_duration:String(n),video_provider:i,video_percent:e+"%",video_current_time:s}),this.playerProgressPercentTracking.last=e)})}handlePlayClick(){return h(this,null,function*(){if(null==this.video)throw new Error("Video is undefined");yield this.video.player.play(),(0,o.Z)(this.eventTrackingData)||(0,l.ZP)(this.eventTrackingData),setTimeout(()=>{var e;return null==(e=this.pauseButton)?void 0:e.focus()},16)})}handlePauseClick(){return h(this,null,function*(){if(null==this.video)throw new Error("Video is undefined");yield this.video.player.pause(),this.trackEvent(l.aK.VIDEO_PAUSE),setTimeout(()=>{var e;return null==(e=this.playButton)?void 0:e.focus()},16)})}trackEvent(n){return h(this,null,function*(){var e=(0,a.rT)(null==this?void 0:this.video),t=(yield(0,a.Mf)(this.video),yield this.video.player.duration()),i=yield null==(i=this.video)?void 0:i.player.currentTime();(0,o.Z)(this.eventTrackingData)||(0,l.ZP)({event:n,video_title:this.eventTrackingData.video.titleInEnglish,video_id:this.videoId,video_url:this.eventTrackingData.video.src,video_duration:String(t),video_provider:e,video_current_time:i})})}handleMuteClick(){return h(this,null,function*(){if(null==this.video)throw new Error("Video is undefined");yield this.video.player.setVolume(0),setTimeout(()=>{var e;return null==(e=this.unmuteButton)?void 0:e.focus()},16)})}handleUnmuteClick(){return h(this,null,function*(){if(null==this.video)throw new Error("Video is undefined");yield this.video.player.setVolume(1),setTimeout(()=>{var e;return null==(e=this.muteButton)?void 0:e.focus()},16)})}handleFullscreenClick(){return h(this,null,function*(){if(null==this.video)throw new Error("Video is undefined");if((0,s.aP)()===this.video.element)return(0,r.G6)()?void document.webkitExitFullscreen():void(0,s.Qg)();this.video.requestFullscreen()})}handlePlaying(){this.playButton&&(this.playButton.style.display="none"),this.pauseButton&&(this.pauseButton.style.display="flex")}handlePause(){this.playButton&&(this.playButton.style.display="flex"),this.pauseButton&&(this.pauseButton.style.display="none")}handleVolumeChange(){return h(this,null,function*(){if(null==this.video)throw new Error("Video is undefined");var e=(yield null==(e=this.video)?void 0:e.player.volume())<=0;this.muteButton&&(this.muteButton.style.display=e?"none":"flex"),this.unmuteButton&&(this.unmuteButton.style.display=e?"flex":"none")})}handleLoadedMetaData(){var e;if(null==this.video)throw new Error("this.video is undefined");("object"==typeof this.video.props.controls?!this.video.props.controls.seek:!!this.video.props.controls)?null!=(e=this.videoProgress)&&e.disable():null!=(e=this.videoProgress)&&e.enable()}toggleFullscreenButtons(e){this.enterFullscreenButton&&this.exitFullscreenButton&&(this.enterFullscreenButton.style.display=e?"none":"flex",this.exitFullscreenButton.style.display=e?"flex":"none")}onEnd(){this.trackEvent(l.aK.VIDEO_COMPLETE)}}d(c,"displayName","video-controls")},25923:(e,t,i)=>{i.d(t,{Z:()=>r});var t=i(86562),i=i(27746),s=Object.defineProperty,n=(e,t,i)=>{var n;return n=i,(t="symbol"!=typeof t?t+"":t)in(e=e)?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i};const l=class l extends t.AbstractEvent{constructor(e,t,i,n){super(e,t,i,n)}clone(){return new l(this.type,this.bubbles,this.cancelable)}};n(l,"ABORT",i.EVENT_TYPE_PLACEHOLDER),n(l,"CANPLAY",i.EVENT_TYPE_PLACEHOLDER),n(l,"CANPLAYTHROUGH",i.EVENT_TYPE_PLACEHOLDER),n(l,"DURATIONCHANGE",i.EVENT_TYPE_PLACEHOLDER),n(l,"EMPTIED",i.EVENT_TYPE_PLACEHOLDER),n(l,"ENDED",i.EVENT_TYPE_PLACEHOLDER),n(l,"ERROR",i.EVENT_TYPE_PLACEHOLDER),n(l,"LOADEDDATA",i.EVENT_TYPE_PLACEHOLDER),n(l,"LOADEDMETADATA",i.EVENT_TYPE_PLACEHOLDER),n(l,"LOADSTART",i.EVENT_TYPE_PLACEHOLDER),n(l,"PAUSE",i.EVENT_TYPE_PLACEHOLDER),n(l,"PLAY",i.EVENT_TYPE_PLACEHOLDER),n(l,"PLAYING",i.EVENT_TYPE_PLACEHOLDER),n(l,"PROGRESS",i.EVENT_TYPE_PLACEHOLDER),n(l,"RATECHANGE",i.EVENT_TYPE_PLACEHOLDER),n(l,"SEEKED",i.EVENT_TYPE_PLACEHOLDER),n(l,"SEEKING",i.EVENT_TYPE_PLACEHOLDER),n(l,"STALLED",i.EVENT_TYPE_PLACEHOLDER),n(l,"SUSPEND",i.EVENT_TYPE_PLACEHOLDER),n(l,"TIMEUPDATE",i.EVENT_TYPE_PLACEHOLDER),n(l,"VOLUMECHANGE",i.EVENT_TYPE_PLACEHOLDER),n(l,"WAITING",i.EVENT_TYPE_PLACEHOLDER);t=l;(0,i.generateEventTypes)({VideoEvent:t});const r=t},32591:(e,t,i)=>{i.d(t,{Bl:()=>n,Mf:()=>s,Tc:()=>o,rT:()=>r});var l=(e,r,o)=>new Promise((t,i)=>{var n=e=>{try{l(o.next(e))}catch(e){i(e)}},s=e=>{try{l(o.throw(e))}catch(e){i(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,r)).next())});const n=e=>{return JSON.parse(null!=(e=null==e?void 0:e.element.dataset.props)?e:"{}")},s=i=>l(void 0,null,function*(){var e=r(i),t=yield i.player.duration(),e=("youtube"===e&&(t=Math.floor((null!=t?t:0)/1e3)),new Date(1e3*(null!=t?t:0)).toISOString().substring(14,19));return e}),r=e=>{var e=n(e);return null!=e&&e.sources?String(null==(e=null==e?void 0:e.sources[0])?void 0:e.type):"youtube"},o=(n,s)=>l(void 0,null,function*(){var e=yield n.player.currentTime(),t=yield n.player.duration();if(void 0!==t&&void 0!==e){const i=e/t*100;e=s.values.filter(e=>i>=e).pop();return Number(null!=e?e:0)}})},15213:(e,t,i)=>{i.d(t,{G6:()=>s,HM:()=>l,U4:()=>n});const n=()=>["iPhone Simulator","iPod Simulator","iPhone","iPod"].includes(navigator.platform),s=()=>!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),l=()=>["iPad Simulator","iPad"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},65154:(e,t,i)=>{i.d(t,{KR:()=>l,Qg:()=>n,Zx:()=>r,aP:()=>s});const n=()=>{return(document.exitFullscreen||document.mozCancelFullScreen).call(document)},s=()=>document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||null,l=()=>document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled,r=e=>{return(e.requestFullscreen||e.mozRequestFullscreen).call(e)}}}]);